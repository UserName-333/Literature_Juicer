<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÊñáÁåÆÊ¶®Ê±ÅÊú∫ - Êô∫ËÉΩËÆ∫ÊñáÂàÜÊûêÁ≥ªÁªü</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Fira+Code:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ü§ñ</text></svg>">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        cyber: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                            950: '#082f49',
                        },
                        neon: {
                            blue: '#00d4ff',
                            purple: '#a855f7',
                            green: '#22d3ee',
                            pink: '#ec4899'
                        }
                    },
                    backgroundImage: {
                        'cyber-gradient': 'linear-gradient(135deg, #0c1428 0%, #1e293b 50%, #0f172a 100%)',
                        'neon-gradient': 'linear-gradient(45deg, #00d4ff, #a855f7)',
                        'analysis-gradient': 'linear-gradient(135deg, #1e293b 0%, #334155 100%)'
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'glow': 'glow 2s ease-in-out infinite alternate',
                        'float': 'float 6s ease-in-out infinite',
                        'scan': 'scan 2s linear infinite',
                        'typewriter': 'typewriter 4s steps(40) 1s forwards'
                    },
                    keyframes: {
                        glow: {
                            '0%': { 
                                'box-shadow': '0 0 20px rgba(0, 212, 255, 0.5)',
                                'border-color': 'rgba(0, 212, 255, 0.5)'
                            },
                            '100%': { 
                                'box-shadow': '0 0 40px rgba(0, 212, 255, 0.8)',
                                'border-color': 'rgba(0, 212, 255, 0.8)'
                            }
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-20px)' }
                        },
                        scan: {
                            '0%': { transform: 'translateX(-100%)' },
                            '100%': { transform: 'translateX(100vw)' }
                        },
                        typewriter: {
                            '0%': { width: '0' },
                            '100%': { width: '100%' }
                        }
                    },
                    fontFamily: {
                        'cyber': ['Orbitron', 'monospace'],
                        'mono': ['Fira Code', 'monospace']
                    }
                },
            },
        }
    </script>
    
    <style>
        * {
            scroll-behavior: smooth;
        }
        
        body {
            background: linear-gradient(135deg, #0c1428 0%, #1e293b 50%, #0f172a 100%);
            overflow-x: hidden;
            font-family: system-ui, -apple-system, sans-serif;
        }
        
        /* ÈúìËôπÁÅØÊïàÊûú */
        .neon-border {
            border: 1px solid rgba(0, 212, 255, 0.5);
            box-shadow: 
                0 0 10px rgba(0, 212, 255, 0.3),
                inset 0 0 10px rgba(0, 212, 255, 0.1);
        }
        
        .neon-border:hover {
            border-color: #00d4ff;
            box-shadow: 
                0 0 20px rgba(0, 212, 255, 0.6),
                inset 0 0 20px rgba(0, 212, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        /* ÂèëÂÖâÊåâÈíÆ */
        .glow-button {
            background: linear-gradient(to right, #00d4ff, #a855f7);
            color: white;
            font-weight: 600;
            padding: 12px 24px;
            border-radius: 8px;
            transition: all 0.3s ease;
            transform: scale(1);
            box-shadow: 
                0 0 20px rgba(0, 212, 255, 0.4),
                0 4px 15px rgba(0, 0, 0, 0.3);
        }
        
        .glow-button:hover {
            transform: scale(1.05);
            box-shadow: 
                0 0 30px rgba(0, 212, 255, 0.6),
                0 6px 20px rgba(0, 0, 0, 0.4);
        }
        
        /* ÁßëÂπªÂç°Áâá */
        .cyber-card {
            background: linear-gradient(135deg, 
                rgba(30, 41, 59, 0.4) 0%, 
                rgba(51, 65, 85, 0.3) 50%, 
                rgba(30, 41, 59, 0.4) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(51, 65, 85, 0.5);
            border-radius: 12px;
            transition: all 0.3s ease;
        }
        
        .cyber-card:hover {
            border-color: rgba(0, 212, 255, 0.5);
            transform: translateY(-4px);
            box-shadow: 
                0 0 25px rgba(0, 212, 255, 0.2),
                0 10px 25px rgba(0, 0, 0, 0.3);
        }
        
        /* ËæìÂÖ•Ê°ÜÊ†∑Âºè */
        .cyber-input {
            background: rgba(15, 23, 42, 0.5);
            border: 1px solid rgb(71, 85, 105);
            border-radius: 8px;
            padding: 12px 16px;
            color: white;
            transition: all 0.3s ease;
        }
        
        .cyber-input::placeholder {
            color: rgb(148, 163, 184);
        }
        
        .cyber-input:focus {
            outline: none;
            border-color: #00d4ff;
            box-shadow: 0 0 15px rgba(0, 212, 255, 0.3);
        }
        
        /* ËøõÂ∫¶Êù° */
        .progress-bar {
            height: 8px;
            background: rgb(51, 65, 85);
            border-radius: 9999px;
            overflow: hidden;
            position: relative;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #00d4ff, #a855f7);
            border-radius: 9999px;
            transition: all 0.5s ease;
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
        }
        
        /* Ê∂àÊÅØÊ∞îÊ≥°Â∏ÉÂ±Ä - ÁßªÈô§‰∫ÜËÄÅÁöÑËÉåÊôØÊ†∑Âºè */
        
        /* ËØ≠Ë®ÄÊåâÈíÆ */
        .language-btn {
            padding: 8px 16px;
            background: rgba(30, 41, 59, 0.5);
            border: 1px solid rgb(71, 85, 105);
            border-radius: 8px;
            color: rgb(203, 213, 225);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .language-btn:hover {
            background: rgba(51, 65, 85, 0.5);
            border-color: rgb(100, 116, 139);
            color: white;
        }
        
        .language-btn.active {
            background: linear-gradient(45deg, #00d4ff, #a855f7);
            border-color: #00d4ff;
            color: white;
            box-shadow: 0 0 15px rgba(0, 212, 255, 0.3);
        }
        
        /* ÁßëÂπªÊåâÈíÆ */
        .cyber-button {
            padding: 8px 16px;
            background: rgba(30, 41, 59, 0.6);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 6px;
            color: #00d4ff;
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .cyber-button:hover {
            background: rgba(0, 212, 255, 0.1);
            border-color: #00d4ff;
            color: white;
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
            transform: translateY(-1px);
        }
        
        /* ÊñáÊ°£ËäÇÁÇπÂä®Áîª */
        .doc-section.processing {
            background: rgba(0, 212, 255, 0.1);
            border-left-color: #00d4ff;
            box-shadow: 0 0 15px rgba(0, 212, 255, 0.3);
        }
        
        .doc-section.completed {
            background: rgba(34, 197, 94, 0.1);
            border-left-color: #22c55e;
        }
        
        /* ÂàÜÂùóÊ†∑Âºè */
        .chunk-item {
            padding: 8px 12px;
            background: rgba(51, 65, 85, 0.3);
            border: 1px solid rgba(71, 85, 105, 0.5);
            border-radius: 6px;
            font-size: 0.875rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .chunk-item:hover {
            background: rgba(71, 85, 105, 0.4);
            border-color: rgba(0, 212, 255, 0.3);
        }
        
        .chunk-item.active {
            background: rgba(0, 212, 255, 0.2);
            border-color: #00d4ff;
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
        }
        
        /* Á•ûÁªèÁΩëÁªúÁîªÂ∏ÉÊ†∑Âºè */
        #neural-network-canvas {
            cursor: grab;
        }
        
        #neural-network-canvas:active {
            cursor: grabbing;
        }
        
        /* Êï∞Â≠óÂä®Áîª */
        .count-up {
            animation: countUp 2s ease-out forwards;
        }
        
        @keyframes countUp {
            from { transform: scale(0.5); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        /* ÈÄöÁü•ÈòüÂàóÊ†∑Âºè */
        #notification-container {
            pointer-events: none;
        }

        .notification-item {
            pointer-events: auto;
            max-width: 320px;
            backdrop-filter: blur(10px);
            animation: slideInFromRight 0.3s ease-out;
        }

        .notification-item:hover {
            transform: translateX(-5px) !important;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .notification-item button {
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .notification-item:hover button {
            opacity: 1;
        }

        @keyframes slideInFromRight {
            from {
                transform: translateX(100%) scale(0.9);
                opacity: 0;
            }
            to {
                transform: translateX(0) scale(1);
                opacity: 1;
            }
        }

                        @keyframes slideOutToRight {
                    from {
                        transform: translateX(0) scale(1);
                        opacity: 1;
                    }
                    to {
                        transform: translateX(100%) scale(0.8);
                        opacity: 0;
                    }
                }

                /* ÊâìÂ≠óÊú∫ÊïàÊûú */
                .typewriter {
                    overflow: hidden;
                    white-space: pre-wrap;
                    word-wrap: break-word;
                }

                .typewriter-cursor {
                    display: inline-block;
                    width: 2px;
                    height: 1.2em;
                    background-color: #00d4ff;
                    margin-left: 2px;
                    animation: blink 1s infinite;
                }

                @keyframes blink {
                    0%, 50% { opacity: 1; }
                    51%, 100% { opacity: 0; }
                }

                .typing-indicator {
                    display: inline-flex;
                    align-items: center;
                    padding: 8px 12px;
                    background: rgba(100, 116, 139, 0.3);
                    border-radius: 12px;
                    margin: 8px 0;
                }

                .typing-indicator .dot {
                    width: 6px;
                    height: 6px;
                    border-radius: 50%;
                    background-color: #64748b;
                    margin: 0 2px;
                    animation: typingDots 1.4s infinite;
                }

                .typing-indicator .dot:nth-child(2) {
                    animation-delay: 0.2s;
                }

                .typing-indicator .dot:nth-child(3) {
                    animation-delay: 0.4s;
                }

                @keyframes typingDots {
                    0%, 60%, 100% {
                        transform: translateY(0);
                        opacity: 0.4;
                    }
                    30% {
                        transform: translateY(-10px);
                        opacity: 1;
                    }
                }

                @keyframes slideInUp {
                    from {
                        transform: translateY(20px);
                        opacity: 0;
                    }
                    to {
                        transform: translateY(0);
                        opacity: 1;
                    }
                }

                /* Ê∂àÊÅØÊ∞îÊ≥°Ê†∑Âºè */
                .message-bubble {
                    animation: messageAppear 0.4s ease-out;
                }

                .message-user {
                    transform-origin: bottom right;
                }

                .message-ai {
                    transform-origin: bottom left;
                }

                @keyframes messageAppear {
                    from {
                        opacity: 0;
                        transform: translateY(15px) scale(0.95);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0) scale(1);
                    }
                }

                /* ÊîπËøõÊâìÂ≠óÊú∫Ê†∑Âºè */
                .typewriter {
                    min-height: 1.25rem;
                }

                .typewriter-text {
                    display: inline;
                }

                .typewriter-cursor {
                    display: inline-block;
                    width: 1px;
                    height: 1em;
                    background-color: #00d4ff;
                    margin-left: 1px;
                    animation: blink 0.8s infinite;
                    vertical-align: baseline;
                    opacity: 0.8;
                }
        
        /* Markdown Ê†∑Âºè */
        .markdown-content h1, .markdown-content h2, .markdown-content h3 {
            color: #00d4ff;
            font-weight: 600;
            margin-bottom: 16px;
            margin-top: 24px;
        }
        
        .markdown-content h1 { font-size: 1.5rem; }
        .markdown-content h2 { font-size: 1.25rem; }
        .markdown-content h3 { font-size: 1.125rem; }
        
        .markdown-content p {
            margin-bottom: 16px;
            line-height: 1.7;
        }
        
        .markdown-content ul, .markdown-content ol {
            margin-bottom: 16px;
            margin-left: 24px;
        }
        
        .markdown-content li {
            margin-bottom: 8px;
        }
        
        .markdown-content code {
            background: rgb(30, 41, 59);
            color: #22d3ee;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Fira Code', monospace;
            font-size: 0.875rem;
        }
        
        .markdown-content pre {
            background: rgb(15, 23, 42);
            padding: 16px;
            border-radius: 8px;
            overflow-x: auto;
            margin-bottom: 16px;
        }
        
        .markdown-content blockquote {
            border-left: 4px solid #00d4ff;
            padding-left: 16px;
            font-style: italic;
            color: rgb(203, 213, 225);
            margin-bottom: 16px;
        }
        
        /* Êâ´ÊèèÁ∫øÂä®Áîª */
        @keyframes scan {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100vw); }
        }
        
        .scan-line {
            animation: scan 3s linear infinite;
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- ËÉåÊôØË£ÖÈ•∞ -->
    <div class="fixed inset-0 pointer-events-none">
        <div class="absolute top-20 left-10 w-64 h-64 bg-blue-500/5 rounded-full blur-3xl"></div>
        <div class="absolute bottom-20 right-10 w-96 h-96 bg-purple-500/5 rounded-full blur-3xl"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[800px] h-[400px] bg-cyan-500/3 rounded-full blur-3xl"></div>
    </div>

    <!-- Êâ´ÊèèÁ∫øÊïàÊûú -->
    <div class="fixed top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-blue-400 to-transparent opacity-30 scan-line"></div>

    <div id="app" class="relative z-10">
        <!-- ÂØºËà™Ê†è -->
        <nav class="border-b border-slate-700/50 backdrop-blur-sm bg-slate-900/20">
            <div class="max-w-7xl mx-auto px-6 py-4">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <div class="w-10 h-10 bg-gradient-to-r from-blue-400 to-purple-500 rounded-lg flex items-center justify-center animate-pulse">
                            <span class="text-xl">ü§ñ</span>
                        </div>
                        <div>
                            <h1 class="text-2xl font-bold text-white" style="font-family: 'Orbitron', monospace;">ÊñáÁåÆÊ¶®Ê±ÅÊú∫</h1>
                            <p class="text-sm text-slate-400">Êô∫ËÉΩËÆ∫ÊñáÂàÜÊûêÁ≥ªÁªü</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4">
                        <button onclick="window.location.href='ÊñáÁåÆÊ¶®Ê±ÅÊú∫.html'" class="px-4 py-2 bg-purple-500/20 border border-purple-500/30 rounded-lg text-purple-300 hover:bg-purple-500/30 hover:text-white transition-all">
                            <i class="fas fa-arrow-left mr-2"></i>ËøîÂõû‰ªãÁªç
                        </button>
                        <button id="restart-analysis" onclick="app.restartAnalysis()" class="px-4 py-2 bg-cyan-500/20 border border-cyan-500/30 rounded-lg text-cyan-300 hover:bg-cyan-500/30 hover:text-white transition-all hidden">
                            <i class="fas fa-refresh mr-2"></i>ÈáçÊñ∞ÂàÜÊûê
                        </button>
                        <button id="new-document" onclick="app.uploadNewDocument()" class="px-4 py-2 bg-orange-500/20 border border-orange-500/30 rounded-lg text-orange-300 hover:bg-orange-500/30 hover:text-white transition-all hidden">
                            <i class="fas fa-plus mr-2"></i>Êñ∞ÊñáÊ°£
                        </button>
                        <div class="px-3 py-1 bg-green-500/20 border border-green-500/30 rounded-full">
                            <span class="text-green-400 text-sm" style="font-family: 'Fira Code', monospace;">‚óè Á≥ªÁªüÂú®Á∫ø</span>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- ‰∏ªË¶ÅÂÜÖÂÆπÂå∫Âüü -->
        <main class="max-w-7xl mx-auto px-6 py-8">
            <!-- ‰∏ä‰º†Âå∫Âüü -->
            <div id="upload-section" class="mb-8">
                <div class="cyber-card p-8 text-center">
                    <div class="mb-6">
                        <div class="w-24 h-24 mx-auto bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center mb-4 animate-bounce">
                            <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                            </svg>
                        </div>
                        <h2 class="text-3xl font-bold text-white mb-2" style="font-family: 'Orbitron', monospace;">‰∏ä‰º†ÊÇ®ÁöÑÂ≠¶ÊúØËÆ∫Êñá</h2>
                        <p class="text-slate-400 text-lg">ÊîØÊåÅ PDF„ÄÅDOC„ÄÅDOCX„ÄÅTXT Ê†ºÂºèÔºåËé∑Âæó‰∏ì‰∏öÁöÑAIÂàÜÊûê</p>
                    </div>

                    <!-- Êñá‰ª∂‰∏ä‰º†Âå∫ -->
                    <div class="mb-6">
                        <div id="drop-zone" class="border-2 border-dashed border-slate-600 rounded-xl p-8 transition-all duration-300 hover:border-blue-400/50 hover:bg-slate-800/20 cursor-pointer">
                            <input type="file" id="file-input" class="hidden" accept=".pdf,.doc,.docx,.txt">
                            <div class="text-center">
                                <svg class="w-16 h-16 mx-auto text-slate-500 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                </svg>
                                <p class="text-slate-300 text-lg mb-2">ÊãñÊãΩÊñá‰ª∂Âà∞Ê≠§Â§ÑÊàñÁÇπÂáªÈÄâÊã©</p>
                                <p class="text-slate-500 text-sm">ÊúÄÂ§ßÊîØÊåÅ 50MB</p>
                            </div>
                        </div>
                    </div>

                    <!-- ËØ≠Ë®ÄÈÄâÊã© -->
                    <div class="mb-6">
                        <h3 class="text-white font-semibold mb-4">ÈÄâÊã©ÂàÜÊûêËØ≠Ë®Ä</h3>
                        <div class="flex flex-wrap justify-center gap-3">
                            <button class="language-btn active" data-lang="‰∏≠Êñá">‰∏≠Êñá</button>
                            <button class="language-btn" data-lang="English">English</button>
                            <button class="language-btn" data-lang="Êó•Êú¨Ë™û">Êó•Êú¨Ë™û</button>
                            <button class="language-btn" data-lang="Fran√ßais">Fran√ßais</button>
                            <button class="language-btn" data-lang="Deutsch">Deutsch</button>
                        </div>
                    </div>

                    <!-- ÂºÄÂßãÂàÜÊûêÊåâÈíÆ -->
                    <button id="analyze-btn" class="glow-button text-lg px-8 py-4 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                        <span class="flex items-center justify-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                            </svg>
                            ÂºÄÂßãAIÂàÜÊûê
                        </span>
                    </button>
                </div>
            </div>

            <!-- ÂàÜÊûêËøõÂ∫¶Âå∫Âüü -->
            <div id="analysis-section" class="mb-8 hidden">
                <!-- ËÆ∫ÊñáÂàÜËß£ËøáÁ®ã -->
                <div id="chunking-section" class="cyber-card p-6 mb-6">
                    <div class="text-center mb-6">
                        <h3 class="text-xl font-bold text-white mb-2" style="font-family: 'Orbitron', monospace;">üìÑ ËÆ∫ÊñáÊô∫ËÉΩÂàÜËß£</h3>
                        <p class="text-slate-400">Ê≠£Âú®Â∞ÜËÆ∫ÊñáÊãÜÂàÜ‰∏∫ËØ≠‰πâÂùóÔºå‰æø‰∫éAIÊ∑±Â∫¶ÁêÜËß£</p>
                    </div>
                    
                    <!-- ÂàÜËß£ÂèØËßÜÂåñ -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- ÂéüÊñáÊ°£ÁªìÊûÑ -->
                        <div class="space-y-4">
                            <h4 class="text-cyan-400 font-semibold mb-3">üìñ ÂéüÂßãÊñáÊ°£ÁªìÊûÑ</h4>
                            <div id="document-structure" class="space-y-2">
                                <div class="doc-section border-l-4 border-blue-400 pl-4 py-2 bg-slate-800/30 rounded-r transition-all duration-500" data-section="title">
                                    <div class="text-white font-medium">Ê†áÈ¢ò‰∏é‰ΩúËÄÖ‰ø°ÊÅØ</div>
                                    <div class="text-slate-400 text-sm">Deep Learning for Academic Paper Analysis...</div>
                                </div>
                                <div class="doc-section border-l-4 border-purple-400 pl-4 py-2 bg-slate-800/30 rounded-r transition-all duration-500" data-section="abstract">
                                    <div class="text-white font-medium">ÊëòË¶Å</div>
                                    <div class="text-slate-400 text-sm">Abstract section with key findings...</div>
                                </div>
                                <div class="doc-section border-l-4 border-green-400 pl-4 py-2 bg-slate-800/30 rounded-r transition-all duration-500" data-section="introduction">
                                    <div class="text-white font-medium">ÂºïË®Ä</div>
                                    <div class="text-slate-400 text-sm">Introduction and background...</div>
                                </div>
                                <div class="doc-section border-l-4 border-yellow-400 pl-4 py-2 bg-slate-800/30 rounded-r transition-all duration-500" data-section="methodology">
                                    <div class="text-white font-medium">ÊñπÊ≥ïËÆ∫</div>
                                    <div class="text-slate-400 text-sm">Research methods and approach...</div>
                                </div>
                                <div class="doc-section border-l-4 border-red-400 pl-4 py-2 bg-slate-800/30 rounded-r transition-all duration-500" data-section="results">
                                    <div class="text-white font-medium">ÂÆûÈ™åÁªìÊûú</div>
                                    <div class="text-slate-400 text-sm">Results and findings...</div>
                                </div>
                                <div class="doc-section border-l-4 border-pink-400 pl-4 py-2 bg-slate-800/30 rounded-r transition-all duration-500" data-section="conclusion">
                                    <div class="text-white font-medium">ÁªìËÆ∫</div>
                                    <div class="text-slate-400 text-sm">Conclusions and future work...</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Êô∫ËÉΩÂàÜÂùóÁªìÊûú -->
                        <div class="space-y-4">
                            <h4 class="text-cyan-400 font-semibold mb-3">üß© Êô∫ËÉΩËØ≠‰πâÂàÜÂùó</h4>
                            <div id="chunk-container" class="space-y-2 min-h-[300px]">
                                <!-- Âä®ÊÄÅÁîüÊàêÁöÑchunkÂ∞ÜÊòæÁ§∫Âú®ËøôÈáå -->
                            </div>
                            
                            <!-- ÂàÜÂùóÁªüËÆ° -->
                            <div class="mt-4 p-3 bg-slate-900/50 rounded-lg border border-slate-700">
                                <div class="grid grid-cols-3 gap-4 text-center">
                                    <div>
                                        <div class="text-2xl font-bold text-cyan-400" id="chunk-count">0</div>
                                        <div class="text-xs text-slate-400">ËØ≠‰πâÂùó</div>
                                    </div>
                                    <div>
                                        <div class="text-2xl font-bold text-green-400" id="avg-chunk-size">0</div>
                                        <div class="text-xs text-slate-400">Âπ≥ÂùáÂ§ßÂ∞è</div>
                                    </div>
                                    <div>
                                        <div class="text-2xl font-bold text-purple-400" id="total-tokens">0</div>
                                        <div class="text-xs text-slate-400">ÊÄªTokenÊï∞</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- AIÂàÜÊûêËøõÂ∫¶ -->
                <div class="cyber-card p-6">
                    <div class="text-center mb-6">
                        <h3 class="text-xl font-bold text-white mb-2" style="font-family: 'Orbitron', monospace;">ü§ñ AIÊ∑±Â∫¶ÂàÜÊûê</h3>
                        <p class="text-slate-400">Âü∫‰∫éËØ≠‰πâÂàÜÂùóÔºåËøõË°åÂ§öÁª¥Â∫¶Êô∫ËÉΩÂàÜÊûê</p>
                    </div>
                    
                    <!-- ËøõÂ∫¶ÊòæÁ§∫ -->
                    <div class="space-y-4">
                        <div class="analysis-step" data-step="extract">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-white font-medium">üìÑ ÂÜÖÂÆπÁêÜËß£‰∏éÂêëÈáèÂåñ</span>
                                <span class="step-status text-slate-400">ÂæÖÂ§ÑÁêÜ</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 0%"></div>
                            </div>
                        </div>
                        
                        <div class="analysis-step" data-step="snapshot">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-white font-medium">üìä ÁîüÊàêÂ≠¶ÊúØÂø´ÁÖß</span>
                                <span class="step-status text-slate-400">ÂæÖÂ§ÑÁêÜ</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 0%"></div>
                            </div>
                        </div>
                        
                        <div class="analysis-step" data-step="methodology">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-white font-medium">üî¨ ÊñπÊ≥ïËÆ∫Ê∑±Â∫¶ÂàÜÊûê</span>
                                <span class="step-status text-slate-400">ÂæÖÂ§ÑÁêÜ</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 0%"></div>
                            </div>
                        </div>
                        
                        <div class="analysis-step" data-step="evaluation">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-white font-medium">üíé ÊûÑÂª∫Áü•ËØÜÂõæË∞±</span>
                                <span class="step-status text-slate-400">ÂæÖÂ§ÑÁêÜ</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Á•ûÁªèÁΩëÁªúÂõæË∞± -->
            <div id="neural-network-section" class="mb-8 hidden">
                <div class="cyber-card p-6">
                    <div class="text-center mb-6">
                        <h3 class="text-2xl font-bold text-white mb-2" style="font-family: 'Orbitron', monospace;">üß† ËÆ∫ÊñáÁü•ËØÜÁ•ûÁªèÁΩëÁªú</h3>
                        <p class="text-slate-400">Âü∫‰∫éAIÂàÜÊûêÊûÑÂª∫ÁöÑÂ§öÁª¥Áü•ËØÜÂõæË∞±ÔºåÁÇπÂáªËäÇÁÇπÊé¢Á¥¢Áõ∏ÂÖ≥ÂÜÖÂÆπ</p>
                    </div>
                    
                    <!-- ÁΩëÁªúÂõæË∞±ÂÆπÂô® -->
                    <div class="relative">
                        <canvas id="neural-network-canvas" class="w-full h-96 bg-slate-900/30 rounded-lg border border-slate-700"></canvas>
                        
                        <!-- ËäÇÁÇπ‰ø°ÊÅØÈù¢Êùø -->
                        <div id="node-info-panel" class="absolute top-4 right-4 w-80 bg-slate-800/90 backdrop-blur-sm border border-slate-600 rounded-lg p-4 hidden">
                            <div class="flex items-center justify-between mb-3">
                                <h4 id="node-title" class="text-white font-bold">ËäÇÁÇπ‰ø°ÊÅØ</h4>
                                <button id="close-panel" class="text-slate-400 hover:text-white">‚úï</button>
                            </div>
                            <div id="node-content" class="text-slate-300 text-sm"></div>
                            <button id="search-node" class="mt-3 w-full glow-button text-sm py-2">üöÄ Êô∫ËÉΩÁü•ËØÜÊãìÂ±ï</button>
                        </div>
                        
                        <!-- ÊêúÁ¥¢ÁªìÊûúÊ®°ÊÄÅÊ°Ü -->
                        <div id="search-modal" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 hidden flex items-center justify-center">
                            <div class="cyber-card max-w-4xl w-full max-h-[80vh] overflow-hidden m-4">
                                <div class="flex items-center justify-between p-6 border-b border-slate-700">
                                    <h3 class="text-xl font-bold text-white">üîç ‰∫íËÅîÁΩëÊêúÁ¥¢ÁªìÊûú</h3>
                                    <button id="close-search-modal" class="text-slate-400 hover:text-white text-xl">‚úï</button>
                                </div>
                                <div id="search-results" class="p-6 overflow-y-auto max-h-[60vh]">
                                    <!-- ÊêúÁ¥¢ÁªìÊûúÂ∞ÜÂú®ËøôÈáåÊòæÁ§∫ -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ÂõæË∞±ÊéßÂà∂Èù¢Êùø -->
                    <div class="mt-6 flex flex-wrap gap-4 justify-center">
                        <button id="reset-network" class="cyber-button">üîÑ ÈáçÁΩÆËßÜÂõæ</button>
                        <button id="toggle-labels" class="cyber-button">üè∑Ô∏è ÂàáÊç¢Ê†áÁ≠æ</button>
                        <button id="auto-layout" class="cyber-button">‚ú® Ëá™Âä®Â∏ÉÂ±Ä</button>
                        <button id="export-network" class="cyber-button">üíæ ÂØºÂá∫ÂõæË∞±</button>
                    </div>
                    
                    <!-- Âõæ‰æã -->
                    <div class="mt-4 flex flex-wrap gap-6 justify-center text-sm">
                        <div class="flex items-center">
                            <div class="w-4 h-4 bg-blue-400 rounded-full mr-2"></div>
                            <span class="text-slate-300">Ê†∏ÂøÉÊ¶ÇÂøµ</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-4 h-4 bg-purple-400 rounded-full mr-2"></div>
                            <span class="text-slate-300">Á†îÁ©∂ÊñπÊ≥ï</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-4 h-4 bg-green-400 rounded-full mr-2"></div>
                            <span class="text-slate-300">ÂÆûÈ™åÁªìÊûú</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-4 h-4 bg-yellow-400 rounded-full mr-2"></div>
                            <span class="text-slate-300">ÂÖ≥ÈîÆÊúØËØ≠</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-4 h-4 bg-red-400 rounded-full mr-2"></div>
                            <span class="text-slate-300">Â∫îÁî®È¢ÜÂüü</span>
                        </div>
                    </div>
                </div>
            </div>



            <!-- ÂØπËØùÂå∫Âüü -->
            <div id="chat-section" class="hidden">
                <div class="cyber-card p-6">
                    <div class="flex items-center mb-6">
                        <div class="w-10 h-10 bg-gradient-to-r from-blue-400 to-purple-500 rounded-lg flex items-center justify-center mr-4 animate-pulse">
                            <span class="text-xl">üí¨</span>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold text-white" style="font-family: 'Orbitron', monospace;">‰∏éËÆ∫ÊñáÂØπËØù</h3>
                            <p class="text-slate-400">Âü∫‰∫éÂàÜÊûêÁªìÊûúÔºåÊ∑±ÂÖ•Êé¢ËÆ®ËÆ∫ÊñáÂÜÖÂÆπ</p>
                        </div>
                    </div>

                    <!-- ËÅäÂ§©Ê∂àÊÅØÂå∫Âüü -->
                    <div id="chat-messages" class="h-96 overflow-y-auto mb-4 p-4 bg-slate-900/30 rounded-lg border border-slate-700/50">
                        <!-- Ê∂àÊÅØÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÊ∑ªÂä† -->
                    </div>

                    <!-- Âø´Êç∑Êìç‰Ωú -->
                    <div class="mb-4 p-4 bg-slate-800/30 rounded-lg border border-slate-600/30">
                        <div class="flex items-center justify-between mb-3">
                            <h4 class="text-sm font-semibold text-slate-300" style="font-family: 'Orbitron', monospace;">
                                <i class="fas fa-bolt mr-2 text-yellow-400"></i>Âø´Êç∑Êìç‰Ωú
                            </h4>
                            <div class="flex space-x-2 text-xs">
                                <span class="px-2 py-1 bg-cyan-500/20 text-cyan-300 rounded">Ctrl+R</span>
                                <span class="px-2 py-1 bg-orange-500/20 text-orange-300 rounded">Ctrl+N</span>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-2">
                            <button onclick="app.restartAnalysis()" class="px-3 py-2 bg-cyan-500/10 border border-cyan-500/30 rounded text-cyan-300 hover:bg-cyan-500/20 transition-all text-sm">
                                <i class="fas fa-refresh mr-2"></i>ÈáçÊñ∞ÂàÜÊûê
                            </button>
                            <button onclick="app.uploadNewDocument()" class="px-3 py-2 bg-orange-500/10 border border-orange-500/30 rounded text-orange-300 hover:bg-orange-500/20 transition-all text-sm">
                                <i class="fas fa-plus mr-2"></i>Êñ∞ÊñáÊ°£
                            </button>
                            <button onclick="app.exportCurrentSession()" class="px-3 py-2 bg-purple-500/10 border border-purple-500/30 rounded text-purple-300 hover:bg-purple-500/20 transition-all text-sm">
                                <i class="fas fa-download mr-2"></i>ÂØºÂá∫
                            </button>
                        </div>
                    </div>

                    <!-- ËæìÂÖ•Âå∫Âüü -->
                    <div class="flex space-x-3">
                        <input type="text" id="chat-input" class="flex-1 cyber-input" placeholder="ËæìÂÖ•ÊÇ®ÁöÑÈóÆÈ¢ò...">
                        <button id="send-btn" class="glow-button px-6">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // ÂàÜÂùóÊï∞ÊçÆ
        const mockChunkData = [
            { id: 1, type: 'title', content: 'Ê†áÈ¢ò: Deep Learning for Academic Paper Analysis: A Comprehensive Framework', tokens: 142 },
            { id: 2, type: 'abstract', content: 'ÊëòË¶Å: This paper presents a comprehensive framework for academic paper analysis using deep learning techniques...', tokens: 256 },
            { id: 3, type: 'introduction', content: 'ÂºïË®Ä: With the exponential growth of academic literature, there is an urgent need for automated analysis tools...', tokens: 312 },
            { id: 4, type: 'methodology', content: 'ÊñπÊ≥ï: We propose a multi-modal approach that combines text analysis, graph neural networks, and attention mechanisms...', tokens: 387 },
            { id: 5, type: 'experiment', content: 'ÂÆûÈ™å: Our experiments were conducted on a dataset of 1 million academic papers across various domains...', tokens: 298 },
            { id: 6, type: 'results', content: 'ÁªìÊûú: The proposed framework achieves 89.3% accuracy in paper classification and generates meaningful insights...', tokens: 275 },
            { id: 7, type: 'discussion', content: 'ËÆ®ËÆ∫: The results demonstrate the effectiveness of our approach in handling multi-modal academic content...', tokens: 234 },
            { id: 8, type: 'conclusion', content: 'ÁªìËÆ∫: This work provides a foundation for automated academic paper analysis and opens new research directions...', tokens: 198 },
            { id: 9, type: 'references', content: 'ÂèÇËÄÉÊñáÁåÆ: [1] Smith, J. et al. (2023). Deep Learning for Text Analysis. [2] Brown, A. (2022). Academic Mining...', tokens: 156 }
        ];

        // Á•ûÁªèÁΩëÁªúËäÇÁÇπÊï∞ÊçÆ
        const mockNetworkData = {
            nodes: [
                { id: 'deep_learning', label: 'Deep Learning', type: 'concept', x: 400, y: 200, color: '#60a5fa', description: 'Ê∑±Â∫¶Â≠¶‰π†ÊòØÊú∫Âô®Â≠¶‰π†ÁöÑÂ≠êÈõÜÔºå‰ΩøÁî®Â§öÂ±ÇÁ•ûÁªèÁΩëÁªúÊù•Â≠¶‰π†Êï∞ÊçÆÁöÑÂ§çÊùÇÊ®°Âºè' },
                { id: 'nlp', label: 'NLP', type: 'method', x: 300, y: 150, color: '#a855f7', description: 'Ëá™ÁÑ∂ËØ≠Ë®ÄÂ§ÑÁêÜÊäÄÊúØÔºåÁî®‰∫éÁêÜËß£ÂíåÁîüÊàê‰∫∫Á±ªËØ≠Ë®Ä' },
                { id: 'transformer', label: 'Transformer', type: 'method', x: 500, y: 150, color: '#a855f7', description: 'TransformerÊû∂ÊûÑÔºåÂü∫‰∫éÊ≥®ÊÑèÂäõÊú∫Âà∂ÁöÑÁ•ûÁªèÁΩëÁªúÊ®°Âûã' },
                { id: 'bert', label: 'BERT', type: 'result', x: 250, y: 100, color: '#22d3ee', description: 'BERTÊòØÂü∫‰∫éTransformerÁöÑÈ¢ÑËÆ≠ÁªÉËØ≠Ë®ÄÊ®°Âûã' },
                { id: 'attention', label: 'Attention', type: 'term', x: 550, y: 100, color: '#eab308', description: 'Ê≥®ÊÑèÂäõÊú∫Âà∂ÂÖÅËÆ∏Ê®°ÂûãÂÖ≥Ê≥®ËæìÂÖ•Â∫èÂàóÁöÑ‰∏çÂêåÈÉ®ÂàÜ' },
                { id: 'academic_analysis', label: 'Academic Analysis', type: 'application', x: 400, y: 300, color: '#ef4444', description: 'Â≠¶ÊúØËÆ∫ÊñáÂàÜÊûêÁöÑËá™Âä®ÂåñÂ§ÑÁêÜÊäÄÊúØ' },
                { id: 'text_mining', label: 'Text Mining', type: 'method', x: 200, y: 250, color: '#a855f7', description: '‰ªéÈùûÁªìÊûÑÂåñÊñáÊú¨‰∏≠ÊèêÂèñÊúâÁî®‰ø°ÊÅØÁöÑËøáÁ®ã' },
                { id: 'knowledge_graph', label: 'Knowledge Graph', type: 'result', x: 600, y: 250, color: '#22d3ee', description: 'Áü•ËØÜÂõæË∞±Áî®‰∫éË°®Á§∫ÂÆû‰Ωì‰πãÈó¥ÁöÑÂÖ≥Á≥ª' },
                { id: 'citation_analysis', label: 'Citation Analysis', type: 'application', x: 300, y: 350, color: '#ef4444', description: 'ÂºïÁî®ÂàÜÊûêÁî®‰∫éËØÑ‰º∞Â≠¶ÊúØÂΩ±ÂìçÂäõ' },
                { id: 'semantic_search', label: 'Semantic Search', type: 'application', x: 500, y: 350, color: '#ef4444', description: 'ËØ≠‰πâÊêúÁ¥¢Âü∫‰∫éÂÜÖÂÆπÂê´‰πâËÄåÈùûÂÖ≥ÈîÆËØçÂåπÈÖç' }
            ],
            edges: [
                { from: 'deep_learning', to: 'nlp', strength: 0.8 },
                { from: 'deep_learning', to: 'transformer', strength: 0.9 },
                { from: 'nlp', to: 'bert', strength: 0.7 },
                { from: 'transformer', to: 'bert', strength: 0.8 },
                { from: 'transformer', to: 'attention', strength: 0.9 },
                { from: 'deep_learning', to: 'academic_analysis', strength: 0.6 },
                { from: 'nlp', to: 'text_mining', strength: 0.7 },
                { from: 'academic_analysis', to: 'citation_analysis', strength: 0.5 },
                { from: 'academic_analysis', to: 'semantic_search', strength: 0.6 },
                { from: 'text_mining', to: 'knowledge_graph', strength: 0.4 },
                { from: 'knowledge_graph', to: 'semantic_search', strength: 0.5 }
            ]
        };



        // Áä∂ÊÄÅÁÆ°ÁêÜ
        class LiteratureJuicerApp {
            constructor() {
                this.currentStep = 'upload'
                this.selectedLanguage = '‰∏≠Êñá'
                this.selectedFile = null
                this.analysisProgress = {
                    extract: 0,
                    snapshot: 0,
                    methodology: 0,
                    evaluation: 0
                }
                this.init()
            }

            init() {
                this.setupEventListeners()
                this.setupKeyboardShortcuts()
                this.setupFileUpload()
                this.setupLanguageSelection()
                this.setupChat()
                this.setupNeuralNetwork()
            }

            setupEventListeners() {
                // ÂàÜÊûêÊåâÈíÆ
                document.getElementById('analyze-btn').addEventListener('click', () => {
                    if (this.selectedFile) {
                        this.startAnalysis()
                    }
                })

                // ÂèëÈÄÅÊ∂àÊÅØÊåâÈíÆ
                document.getElementById('send-btn').addEventListener('click', () => {
                    this.sendMessage()
                })

                // ËæìÂÖ•Ê°ÜÂõûËΩ¶
                document.getElementById('chat-input').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        this.sendMessage()
                    }
                })
            }

            setupFileUpload() {
                const dropZone = document.getElementById('drop-zone')
                const fileInput = document.getElementById('file-input')

                // ÁÇπÂáª‰∏ä‰º†
                dropZone.addEventListener('click', () => {
                    fileInput.click()
                })

                // Êñá‰ª∂ÈÄâÊã©
                fileInput.addEventListener('change', (e) => {
                    const file = e.target.files[0]
                    if (file) {
                        this.handleFileSelect(file)
                    }
                })

                // ÊãñÊãΩ‰∏ä‰º†
                dropZone.addEventListener('dragover', (e) => {
                    e.preventDefault()
                    dropZone.style.borderColor = '#00d4ff'
                    dropZone.style.backgroundColor = 'rgba(30, 41, 59, 0.3)'
                })

                dropZone.addEventListener('dragleave', (e) => {
                    e.preventDefault()
                    dropZone.style.borderColor = 'rgb(71, 85, 105)'
                    dropZone.style.backgroundColor = 'transparent'
                })

                dropZone.addEventListener('drop', (e) => {
                    e.preventDefault()
                    dropZone.style.borderColor = 'rgb(71, 85, 105)'
                    dropZone.style.backgroundColor = 'transparent'
                    
                    const files = e.dataTransfer.files
                    if (files.length > 0) {
                        this.handleFileSelect(files[0])
                    }
                })
            }

            handleFileSelect(file) {
                // Êñá‰ª∂Á±ªÂûãÈ™åËØÅ
                const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'text/plain']
                if (!allowedTypes.includes(file.type)) {
                    this.showNotification('ËØ∑ÈÄâÊã© PDF„ÄÅDOC„ÄÅDOCX Êàñ TXT Ê†ºÂºèÁöÑÊñá‰ª∂', 'error')
                    return
                }

                // Êñá‰ª∂Â§ßÂ∞èÈ™åËØÅ (50MB)
                if (file.size > 50 * 1024 * 1024) {
                    this.showNotification('Êñá‰ª∂Â§ßÂ∞è‰∏çËÉΩË∂ÖËøá 50MB', 'error')
                    return
                }

                this.selectedFile = file
                
                // Êõ¥Êñ∞UI
                const dropZone = document.getElementById('drop-zone')
                dropZone.innerHTML = `
                    <div class="text-center">
                        <div class="w-16 h-16 mx-auto bg-green-500/20 rounded-full flex items-center justify-center mb-4">
                            <svg class="w-8 h-8 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <p class="text-green-400 text-lg font-semibold">${file.name}</p>
                        <p class="text-slate-400 text-sm">${this.formatFileSize(file.size)} ‚Ä¢ ${file.type.split('/')[1].toUpperCase()}</p>
                        <button class="mt-3 text-blue-400 hover:text-white transition-colors" onclick="app.clearFile()">Êõ¥Êç¢Êñá‰ª∂</button>
                    </div>
                `

                // ÂêØÁî®ÂàÜÊûêÊåâÈíÆ
                document.getElementById('analyze-btn').disabled = false
                
                this.showNotification('Êñá‰ª∂‰∏ä‰º†ÊàêÂäüÔºÅ', 'success')
            }

            clearFile() {
                this.selectedFile = null
                document.getElementById('file-input').value = ''
                document.getElementById('analyze-btn').disabled = true
                
                // ÈáçÁΩÆ‰∏ä‰º†Âå∫Âüü
                const dropZone = document.getElementById('drop-zone')
                dropZone.innerHTML = `
                    <div class="text-center">
                        <svg class="w-16 h-16 mx-auto text-slate-500 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                        <p class="text-slate-300 text-lg mb-2">ÊãñÊãΩÊñá‰ª∂Âà∞Ê≠§Â§ÑÊàñÁÇπÂáªÈÄâÊã©</p>
                        <p class="text-slate-500 text-sm">ÊúÄÂ§ßÊîØÊåÅ 50MB</p>
                    </div>
                `
            }

            setupLanguageSelection() {
                const languageButtons = document.querySelectorAll('.language-btn')
                
                languageButtons.forEach(btn => {
                    btn.addEventListener('click', () => {
                        // ÁßªÈô§ÂÖ∂‰ªñÊåâÈíÆÁöÑactiveÁä∂ÊÄÅ
                        languageButtons.forEach(b => b.classList.remove('active'))
                        // Ê∑ªÂä†ÂΩìÂâçÊåâÈíÆÁöÑactiveÁä∂ÊÄÅ
                        btn.classList.add('active')
                        this.selectedLanguage = btn.dataset.lang
                    })
                })
            }

            startAnalysis() {
                // ÈöêËóè‰∏ä‰º†Âå∫ÂüüÔºåÊòæÁ§∫ÂàÜÊûêÂå∫Âüü
                document.getElementById('upload-section').classList.add('hidden')
                document.getElementById('analysis-section').classList.remove('hidden')

                this.showNotification(`ÂºÄÂßãÂàÜÊûê "${this.selectedFile.name}"`, 'info')

                // Ê®°ÊãüÂàÜÊûêËøáÁ®ã
                this.simulateAnalysis()
            }

            async simulateAnalysis() {
                // È¶ñÂÖàËøõË°åÂàÜÂùóÂ§ÑÁêÜ
                await this.simulateChunking()
                
                // ÁÑ∂ÂêéËøõË°åAIÂàÜÊûê
                const steps = ['extract', 'snapshot', 'methodology', 'evaluation']
                
                for (let i = 0; i < steps.length; i++) {
                    const step = steps[i]
                    const stepElement = document.querySelector(`[data-step="${step}"]`)
                    const statusElement = stepElement.querySelector('.step-status')
                    const progressElement = stepElement.querySelector('.progress-fill')

                    // Êõ¥Êñ∞Áä∂ÊÄÅ‰∏∫Â§ÑÁêÜ‰∏≠
                    statusElement.textContent = 'Â§ÑÁêÜ‰∏≠...'
                    statusElement.style.color = '#00d4ff'

                    // Ê®°ÊãüËøõÂ∫¶
                    await this.animateProgress(progressElement, 0, 100, 2000)

                    // Êõ¥Êñ∞Áä∂ÊÄÅ‰∏∫ÂÆåÊàê
                    statusElement.textContent = '‚úì ÂÆåÊàê'
                    statusElement.style.color = '#22c55e'

                    // Áü≠ÊöÇÂª∂Ëøü
                    await this.delay(500)
                }

                // ÂàÜÊûêÂÆåÊàêÔºåÊòæÁ§∫Á•ûÁªèÁΩëÁªúÂõæË∞±
                this.showNeuralNetwork()
            }

            async simulateChunking() {
                const docSections = document.querySelectorAll('.doc-section')
                const chunkContainer = document.getElementById('chunk-container')
                let totalTokens = 0
                
                // ÈÄê‰∏™Â§ÑÁêÜÊñáÊ°£ËäÇÁÇπ
                for (let i = 0; i < docSections.length; i++) {
                    const section = docSections[i]
                    section.classList.add('processing')
                    
                    await this.delay(800)
                    
                    // ÁîüÊàêÂØπÂ∫îÁöÑÂàÜÂùó
                    const chunks = this.generateChunksForSection(section.dataset.section)
                    for (const chunk of chunks) {
                        await this.addChunkToContainer(chunkContainer, chunk)
                        totalTokens += chunk.tokens
                        this.updateChunkStats(i + 1, totalTokens)
                        await this.delay(300)
                    }
                    
                    section.classList.remove('processing')
                    section.classList.add('completed')
                }
                
                await this.delay(1000)
            }

            generateChunksForSection(sectionType) {
                return mockChunkData.filter(chunk => 
                    chunk.type === sectionType || 
                    (sectionType === 'title' && chunk.type === 'title') ||
                    (sectionType === 'abstract' && chunk.type === 'abstract') ||
                    (sectionType === 'introduction' && chunk.type === 'introduction') ||
                    (sectionType === 'methodology' && ['methodology', 'experiment'].includes(chunk.type)) ||
                    (sectionType === 'results' && ['results', 'discussion'].includes(chunk.type)) ||
                    (sectionType === 'conclusion' && ['conclusion', 'references'].includes(chunk.type))
                )
            }

            async addChunkToContainer(container, chunk) {
                const chunkDiv = document.createElement('div')
                chunkDiv.className = 'chunk-item'
                chunkDiv.innerHTML = `
                    <div class="flex items-center justify-between mb-1">
                        <span class="text-cyan-400 text-xs font-medium">Chunk ${chunk.id}</span>
                        <span class="text-slate-500 text-xs">${chunk.tokens} tokens</span>
                    </div>
                    <div class="text-slate-300 text-xs line-clamp-2">${chunk.content}</div>
                `
                
                chunkDiv.addEventListener('click', () => {
                    document.querySelectorAll('.chunk-item').forEach(c => c.classList.remove('active'))
                    chunkDiv.classList.add('active')
                })
                
                container.appendChild(chunkDiv)
                
                // Ê∑ªÂä†Âä®Áîª
                chunkDiv.style.opacity = '0'
                chunkDiv.style.transform = 'translateY(20px)'
                
                requestAnimationFrame(() => {
                    chunkDiv.style.transition = 'all 0.3s ease'
                    chunkDiv.style.opacity = '1'
                    chunkDiv.style.transform = 'translateY(0)'
                })
            }

            updateChunkStats(chunkCount, totalTokens) {
                const avgSize = Math.round(totalTokens / chunkCount)
                
                document.getElementById('chunk-count').textContent = chunkCount
                document.getElementById('avg-chunk-size').textContent = avgSize
                document.getElementById('total-tokens').textContent = totalTokens.toLocaleString()
                
                // Ê∑ªÂä†Êï∞Â≠óÂä®Áîª
                document.getElementById('chunk-count').classList.add('count-up')
                document.getElementById('avg-chunk-size').classList.add('count-up')
                document.getElementById('total-tokens').classList.add('count-up')
            }

            async animateProgress(element, from, to, duration) {
                return new Promise(resolve => {
                    const startTime = Date.now()
                    const animate = () => {
                        const elapsed = Date.now() - startTime
                        const progress = Math.min(elapsed / duration, 1)
                        const value = from + (to - from) * progress
                        
                        element.style.width = `${value}%`
                        
                        if (progress < 1) {
                            requestAnimationFrame(animate)
                        } else {
                            resolve()
                        }
                    }
                    animate()
                })
            }

            async showNeuralNetwork() {
                // ÊòæÁ§∫ËøáÊ∏°ÊèêÁ§∫
                this.showNotification('Ê≠£Âú®ÊûÑÂª∫Áü•ËØÜÂõæË∞±...', 'info')
                
                // Ê∑ªÂä†ËøáÊ∏°Âä®ÁîªÂà∞ÂàÜÊûêÂå∫Âüü
                const analysisSection = document.getElementById('analysis-section')
                analysisSection.style.transition = 'all 1s ease-out'
                analysisSection.style.transform = 'translateY(-20px)'
                analysisSection.style.opacity = '0.5'
                
                await this.delay(1500)
                
                // ÊòæÁ§∫ÊûÑÂª∫ËøáÁ®ãÊèêÁ§∫
                this.showNotification('Âü∫‰∫éÂàÜÊûêÁªìÊûúÁîüÊàêÁü•ËØÜÁΩëÁªú...', 'info')
                
                // Ê∑ªÂä†Áü•ËØÜÂõæË∞±ÊûÑÂª∫ÁöÑËøáÊ∏°Âå∫Âüü
                this.showNetworkTransition()
                
                await this.delay(2000)
                
                // Âπ≥ÊªëÈöêËóèÂàÜÊûêÂå∫ÂüüÔºåÊòæÁ§∫Á•ûÁªèÁΩëÁªú
                analysisSection.classList.add('hidden')
                document.getElementById('neural-network-section').classList.remove('hidden')

                // Ê∑ªÂä†Á•ûÁªèÁΩëÁªúÂå∫ÂüüÁöÑÂÖ•Âú∫Âä®Áîª
                const networkSection = document.getElementById('neural-network-section')
                networkSection.style.opacity = '0'
                networkSection.style.transform = 'translateY(30px)'
                
                // ÂàùÂßãÂåñÁ•ûÁªèÁΩëÁªúÂõæË∞±
                this.initializeNeuralNetwork()
                
                // Âä®ÁîªÊòæÁ§∫Á•ûÁªèÁΩëÁªú
                setTimeout(() => {
                    networkSection.style.transition = 'all 1s ease-out'
                    networkSection.style.opacity = '1'
                    networkSection.style.transform = 'translateY(0)'
                }, 100)

                // ÊòæÁ§∫ÂÆåÊàêÊèêÁ§∫ÂíåÂØπËØùÂå∫Âüü
                setTimeout(() => {
                    this.showNotification('üß† Áü•ËØÜÂõæË∞±ÊûÑÂª∫ÂÆåÊàêÔºÅÁÇπÂáªËäÇÁÇπÊ∑±Â∫¶Êé¢Á¥¢', 'success')
                    
                    // Âª∂ËøüÊòæÁ§∫ÂØπËØùÂå∫Âüü
                    setTimeout(() => {
                        document.getElementById('chat-section').classList.remove('hidden')
                        this.addSuggestedQuestions()
                        this.showControlButtons()
                    }, 1500)
                }, 2000)
            }

            showNetworkTransition() {
                // Âú®ÂàÜÊûêÂå∫Âüü‰∏ãÊñπÊ∑ªÂä†ËøáÊ∏°ÊèêÁ§∫
                const transitionDiv = document.createElement('div')
                transitionDiv.id = 'network-transition'
                transitionDiv.className = 'cyber-card p-6 mb-8'
                transitionDiv.innerHTML = `
                    <div class="text-center">
                        <div class="mb-6">
                            <div class="w-16 h-16 mx-auto bg-neon-gradient rounded-full flex items-center justify-center animate-pulse">
                                <span class="text-2xl">üß†</span>
                            </div>
                        </div>
                        <h3 class="text-xl font-bold text-white mb-4" style="font-family: 'Orbitron', monospace;">ÊûÑÂª∫Áü•ËØÜÁ•ûÁªèÁΩëÁªú</h3>
                        <p class="text-slate-400 mb-4">Ê≠£Âú®Âü∫‰∫éËÆ∫ÊñáÂàÜÊûêÁªìÊûúÊûÑÂª∫Â§öÁª¥Áü•ËØÜÂõæË∞±...</p>
                        <div class="flex justify-center space-x-2">
                            <div class="w-2 h-2 bg-cyan-400 rounded-full animate-bounce"></div>
                            <div class="w-2 h-2 bg-purple-400 rounded-full animate-bounce" style="animation-delay: 0.1s"></div>
                            <div class="w-2 h-2 bg-green-400 rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                        </div>
                        <div class="mt-4 text-sm text-slate-500">
                            <div class="loading-text">Ê≠£Âú®ÊèêÂèñÊ†∏ÂøÉÊ¶ÇÂøµ</div>
                        </div>
                    </div>
                `
                
                const analysisSection = document.getElementById('analysis-section')
                analysisSection.parentNode.insertBefore(transitionDiv, analysisSection.nextSibling)
                
                // Âä®ÊÄÅÊõ¥Êñ∞Âä†ËΩΩÊñáÊú¨
                let loadingTexts = [
                    'Ê≠£Âú®ÊèêÂèñÊ†∏ÂøÉÊ¶ÇÂøµ...',
                    'Ê≠£Âú®Âª∫Á´ãÊ¶ÇÂøµÂÖ≥Á≥ª...',
                    'Ê≠£Âú®‰ºòÂåñÁΩëÁªúÂ∏ÉÂ±Ä...',
                    'Ê≠£Âú®ÁîüÊàê‰∫§‰∫íËäÇÁÇπ...'
                ]
                let currentTextIndex = 0
                
                const loadingTextElement = transitionDiv.querySelector('.loading-text')
                const textInterval = setInterval(() => {
                    currentTextIndex = (currentTextIndex + 1) % loadingTexts.length
                    loadingTextElement.textContent = loadingTexts[currentTextIndex]
                }, 800)
                
                // 2ÁßíÂêéÁßªÈô§ËøáÊ∏°ÂÖÉÁ¥†
                setTimeout(() => {
                    clearInterval(textInterval)
                    transitionDiv.style.transition = 'all 0.5s ease-out'
                    transitionDiv.style.opacity = '0'
                    transitionDiv.style.transform = 'translateY(-20px)'
                    setTimeout(() => {
                        if (transitionDiv.parentNode) {
                            transitionDiv.parentNode.removeChild(transitionDiv)
                        }
                    }, 500)
                }, 2000)
            }

            setupChat() {
                // È¢ÑËÆæÈóÆÈ¢òÊåâÈíÆ
            }

            setupNeuralNetwork() {
                // ËÆæÁΩÆÁ•ûÁªèÁΩëÁªúÊéßÂà∂ÊåâÈíÆ
                document.getElementById('reset-network').addEventListener('click', () => {
                    this.resetNetworkView()
                })
                
                document.getElementById('toggle-labels').addEventListener('click', () => {
                    this.toggleNodeLabels()
                })
                
                document.getElementById('auto-layout').addEventListener('click', () => {
                    this.autoLayoutNetwork()
                })
                
                document.getElementById('export-network').addEventListener('click', () => {
                    this.exportNetwork()
                })

                // ËÆæÁΩÆÈù¢ÊùøÊéßÂà∂
                document.getElementById('close-panel').addEventListener('click', () => {
                    document.getElementById('node-info-panel').classList.add('hidden')
                })

                document.getElementById('search-node').addEventListener('click', () => {
                    this.searchNodeContent()
                })

                document.getElementById('close-search-modal').addEventListener('click', () => {
                    document.getElementById('search-modal').classList.add('hidden')
                })
            }

            initializeNeuralNetwork() {
                const canvas = document.getElementById('neural-network-canvas')
                const ctx = canvas.getContext('2d')
                
                // ËÆæÁΩÆÁîªÂ∏ÉÂ∞∫ÂØ∏
                canvas.width = canvas.offsetWidth * 2
                canvas.height = canvas.offsetHeight * 2
                ctx.scale(2, 2)
                
                this.networkCanvas = canvas
                this.networkCtx = ctx
                this.networkData = JSON.parse(JSON.stringify(mockNetworkData))
                this.selectedNode = null
                this.showLabels = true
                this.isDragging = false
                this.dragNode = null
                this.nodeAnimationProgress = 0 // Ê∑ªÂä†ËäÇÁÇπÂä®ÁîªËøõÂ∫¶
                
                // Ê∑ªÂä†Èº†Ê†á‰∫ã‰ª∂
                canvas.addEventListener('mousedown', (e) => this.onMouseDown(e))
                canvas.addEventListener('mousemove', (e) => this.onMouseMove(e))
                canvas.addEventListener('mouseup', (e) => this.onMouseUp(e))
                canvas.addEventListener('click', (e) => this.onNodeClick(e))
                
                // ÂºÄÂßãÂä®ÁîªÂæ™ÁéØ
                this.animateNetwork()
                
                // ÂêØÂä®ËäÇÁÇπÈÄê‰∏™Âá∫Áé∞ÁöÑÂä®Áîª
                this.animateNodesAppearance()
            }

            async animateNodesAppearance() {
                const totalNodes = this.networkData.nodes.length
                const animationDuration = 3000 // 3ÁßíÂÜÖÂÆåÊàêÊâÄÊúâËäÇÁÇπÂá∫Áé∞
                const nodeDelay = animationDuration / totalNodes
                
                for (let i = 0; i < totalNodes; i++) {
                    await this.delay(nodeDelay)
                    this.nodeAnimationProgress = (i + 1) / totalNodes
                    
                    // Âè™ÊòæÁ§∫ÈÉ®ÂàÜÈáçË¶ÅËäÇÁÇπÁöÑÊèêÁ§∫ÔºåÈÅøÂÖçÈÄöÁü•ËøáÂ§ö
                    const node = this.networkData.nodes[i]
                    if (i === 0 || i === Math.floor(totalNodes / 2) || i === totalNodes - 1) {
                        this.showNotification(`üß† ÂèëÁé∞Ê†∏ÂøÉÊ¶ÇÂøµ: ${node.label}`, 'info', 1500)
                    }
                }
                
                // ÂÆåÊàêÂêéÊòæÁ§∫ÊÄªÁªìÈÄöÁü•
                this.showNotification(`‚ú® Áü•ËØÜÂõæË∞±ÊûÑÂª∫ÂÆåÊàêÔºåÂÖ±ÂèëÁé∞ ${totalNodes} ‰∏™Ê¶ÇÂøµËäÇÁÇπ`, 'success', 2000)
            }

            animateNetwork() {
                this.drawNetwork()
                requestAnimationFrame(() => this.animateNetwork())
            }

            drawNetwork() {
                const ctx = this.networkCtx
                const canvas = this.networkCanvas
                
                // Ê∏ÖÁ©∫ÁîªÂ∏É
                ctx.clearRect(0, 0, canvas.width / 2, canvas.height / 2)
                
                // ËÆ°ÁÆóÂΩìÂâçÂ∫îËØ•ÊòæÁ§∫ÁöÑËäÇÁÇπÊï∞Èáè
                const totalNodes = this.networkData.nodes.length
                const visibleNodeCount = Math.floor(this.nodeAnimationProgress * totalNodes)
                const visibleNodes = this.networkData.nodes.slice(0, visibleNodeCount)
                
                // ÁªòÂà∂ËøûÊé•Á∫øÔºàÂè™ÁªòÂà∂ÂèØËßÅËäÇÁÇπ‰πãÈó¥ÁöÑËøûÊé•Ôºâ
                this.networkData.edges.forEach(edge => {
                    const fromNode = visibleNodes.find(n => n.id === edge.from)
                    const toNode = visibleNodes.find(n => n.id === edge.to)
                    
                    if (fromNode && toNode) {
                        ctx.strokeStyle = `rgba(0, 212, 255, ${edge.strength * 0.6})`
                        ctx.lineWidth = edge.strength * 3
                        ctx.beginPath()
                        ctx.moveTo(fromNode.x, fromNode.y)
                        ctx.lineTo(toNode.x, toNode.y)
                        ctx.stroke()
                    }
                })
                
                // ÁªòÂà∂ÂèØËßÅÁöÑËäÇÁÇπ
                visibleNodes.forEach((node, index) => {
                    const isSelected = this.selectedNode && this.selectedNode.id === node.id
                    let nodeSize = isSelected ? 25 : 20
                    
                    // Â¶ÇÊûúÊòØÊúÄÊñ∞Âá∫Áé∞ÁöÑËäÇÁÇπÔºåÊ∑ªÂä†ÂÖ•Âú∫Âä®ÁîªÊïàÊûú
                    if (index === visibleNodeCount - 1 && this.nodeAnimationProgress < 1) {
                        const progress = (this.nodeAnimationProgress * totalNodes) % 1
                        nodeSize *= (0.3 + 0.7 * progress) // ‰ªé30%Â§ßÂ∞èÁº©ÊîæÂà∞100%
                        
                        // Ê∑ªÂä†ÂèëÂÖâÊïàÊûú
                        const gradient = ctx.createRadialGradient(node.x, node.y, 0, node.x, node.y, nodeSize * 2)
                        gradient.addColorStop(0, `${node.color}60`)
                        gradient.addColorStop(1, 'transparent')
                        ctx.fillStyle = gradient
                        ctx.fillRect(node.x - nodeSize * 2, node.y - nodeSize * 2, nodeSize * 4, nodeSize * 4)
                    }
                    
                    // ËäÇÁÇπ‰∏ª‰Ωì
                    ctx.fillStyle = node.color
                    ctx.beginPath()
                    ctx.arc(node.x, node.y, nodeSize, 0, Math.PI * 2)
                    ctx.fill()
                    
                    // ËäÇÁÇπËæπÊ°Ü
                    ctx.strokeStyle = isSelected ? '#ffffff' : 'rgba(255, 255, 255, 0.3)'
                    ctx.lineWidth = isSelected ? 3 : 1
                    ctx.stroke()
                    
                    // ËäÇÁÇπÊ†áÁ≠æ
                    if (this.showLabels) {
                        ctx.fillStyle = '#ffffff'
                        ctx.font = '12px Arial'
                        ctx.textAlign = 'center'
                        ctx.fillText(node.label, node.x, node.y + nodeSize + 15)
                    }
                })
            }

            onMouseDown(e) {
                const rect = this.networkCanvas.getBoundingClientRect()
                const x = e.clientX - rect.left
                const y = e.clientY - rect.top
                
                const clickedNode = this.findNodeAt(x, y)
                if (clickedNode) {
                    this.isDragging = true
                    this.dragNode = clickedNode
                }
            }

            onMouseMove(e) {
                if (this.isDragging && this.dragNode) {
                    const rect = this.networkCanvas.getBoundingClientRect()
                    this.dragNode.x = e.clientX - rect.left
                    this.dragNode.y = e.clientY - rect.top
                }
            }

            onMouseUp(e) {
                this.isDragging = false
                this.dragNode = null
            }

            onNodeClick(e) {
                if (this.isDragging) return
                
                const rect = this.networkCanvas.getBoundingClientRect()
                const x = e.clientX - rect.left
                const y = e.clientY - rect.top
                
                const clickedNode = this.findNodeAt(x, y)
                if (clickedNode) {
                    this.selectedNode = clickedNode
                    this.showNodeInfo(clickedNode)
                }
            }

            findNodeAt(x, y) {
                return this.networkData.nodes.find(node => {
                    const dx = x - node.x
                    const dy = y - node.y
                    return Math.sqrt(dx * dx + dy * dy) <= 25
                })
            }

            showNodeInfo(node) {
                const panel = document.getElementById('node-info-panel')
                const title = document.getElementById('node-title')
                const content = document.getElementById('node-content')
                
                title.textContent = node.label
                content.innerHTML = `
                    <div class="mb-2">
                        <span class="text-cyan-400 text-xs">Á±ªÂûã:</span> 
                        <span class="text-white">${this.getNodeTypeName(node.type)}</span>
                    </div>
                    <div class="text-slate-300">${node.description}</div>
                `
                
                panel.classList.remove('hidden')
                this.currentSearchNode = node
            }

            getNodeTypeName(type) {
                const typeNames = {
                    concept: 'Ê†∏ÂøÉÊ¶ÇÂøµ',
                    method: 'Á†îÁ©∂ÊñπÊ≥ï',
                    result: 'ÂÆûÈ™åÁªìÊûú',
                    term: 'ÂÖ≥ÈîÆÊúØËØ≠',
                    application: 'Â∫îÁî®È¢ÜÂüü'
                }
                return typeNames[type] || type
            }

            async searchNodeContent() {
                if (!this.currentSearchNode) return
                
                const modal = document.getElementById('search-modal')
                const results = document.getElementById('search-results')
                
                modal.classList.remove('hidden')
                results.innerHTML = '<div class="text-center text-slate-400">üîç Ê≠£Âú®ÊêúÁ¥¢Áõ∏ÂÖ≥ÂÜÖÂÆπ...</div>'
                
                // Ê®°ÊãüÊêúÁ¥¢Âª∂Ëøü
                await this.delay(2000)
                
                // ÁîüÊàêÊ®°ÊãüÊêúÁ¥¢ÁªìÊûú
                const searchResults = this.generateSearchResults(this.currentSearchNode)
                results.innerHTML = searchResults
            }

            generateSearchResults(node) {
                const mockResults = [
                    {
                        title: `${node.label} - Áª¥Âü∫ÁôæÁßë`,
                        url: `https://en.wikipedia.org/wiki/${node.label.replace(' ', '_')}`,
                        snippet: `${node.description} ËøôÊòØ‰∏Ä‰∏™Âú®ËÆ°ÁÆóÊú∫ÁßëÂ≠¶Âíå‰∫∫Â∑•Êô∫ËÉΩÈ¢ÜÂüüÈùûÂ∏∏ÈáçË¶ÅÁöÑÊ¶ÇÂøµÔºåÂπøÊ≥õÂ∫îÁî®‰∫éÂêÑÁßçÂÆûÈôÖÂú∫ÊôØ‰∏≠„ÄÇ`
                    },
                    {
                        title: `${node.label} ÊúÄÊñ∞Á†îÁ©∂ËøõÂ±ï - arXiv`,
                        url: `https://arxiv.org/search/?query=${node.label}`,
                        snippet: `ÊúÄÊñ∞ÁöÑÂ≠¶ÊúØËÆ∫ÊñáÂíåÁ†îÁ©∂ËøõÂ±ïÔºåÂåÖÂê´‰∫Ü${node.label}Âú®‰∏çÂêåÈ¢ÜÂüüÁöÑÂàõÊñ∞Â∫îÁî®ÂíåÊäÄÊúØÁ™ÅÁ†¥„ÄÇ`
                    },
                    {
                        title: `${node.label} ÂÆûË∑µÊåáÂçó - GitHub`,
                        url: `https://github.com/search?q=${node.label}`,
                        snippet: `ÂºÄÊ∫êÈ°πÁõÆÂíå‰ª£Á†ÅÂÆûÁé∞ÔºåÊèê‰æõ‰∫Ü${node.label}ÁöÑÂÆûÈôÖÂ∫îÁî®Ê°à‰æãÂíåÊúÄ‰Ω≥ÂÆûË∑µ„ÄÇ`
                    }
                ]

                return mockResults.map(result => `
                    <div class="mb-6 p-4 bg-slate-800/30 rounded-lg border border-slate-700/50 hover:border-cyan-400/30 transition-colors">
                        <h4 class="text-cyan-400 font-semibold mb-2">${result.title}</h4>
                        <p class="text-slate-300 text-sm mb-2">${result.snippet}</p>
                        <a href="${result.url}" target="_blank" class="text-blue-400 hover:text-blue-300 text-sm">
                            ${result.url} ‚Üí
                        </a>
                    </div>
                `).join('')
            }

            resetNetworkView() {
                this.networkData = JSON.parse(JSON.stringify(mockNetworkData))
                this.selectedNode = null
                document.getElementById('node-info-panel').classList.add('hidden')
                this.showNotification('ÁΩëÁªúËßÜÂõæÂ∑≤ÈáçÁΩÆ', 'info')
            }

            toggleNodeLabels() {
                this.showLabels = !this.showLabels
                this.showNotification(this.showLabels ? 'Ê†áÁ≠æÂ∑≤ÊòæÁ§∫' : 'Ê†áÁ≠æÂ∑≤ÈöêËóè', 'info')
            }

            autoLayoutNetwork() {
                this.showNotification('Ëá™Âä®Â∏ÉÂ±ÄÂÆåÊàê', 'success')
            }

            exportNetwork() {
                const canvas = this.networkCanvas
                const link = document.createElement('a')
                link.download = 'neural-network.png'
                link.href = canvas.toDataURL()
                link.click()
                
                this.showNotification('ÂõæË∞±Â∑≤ÂØºÂá∫', 'success')
            }

            async addSuggestedQuestions() {
                await this.delay(500) // Á®çÁ≠â‰∏Ä‰∏ãÂÜçÊòæÁ§∫Âª∫ËÆÆÈóÆÈ¢ò
                
                const suggestedQuestions = [
                    "ËøôÁØáËÆ∫ÊñáÁöÑ‰∏ªË¶ÅÂàõÊñ∞ÁÇπÊòØ‰ªÄ‰πàÔºü",
                    "Á†îÁ©∂ÊñπÊ≥ïÊúâÂì™‰∫õ‰ºòÂäøÂíåÂ±ÄÈôêÊÄßÔºü", 
                    "ÂÆûÈ™åÁªìÊûúÊîØÊåÅ‰ΩúËÄÖÁöÑÁªìËÆ∫ÂêóÔºü",
                    "ËøôÈ°πÁ†îÁ©∂ÂØπËØ•È¢ÜÂüüÊúâ‰ªÄ‰πàÂΩ±ÂìçÔºü",
                    "ËÆ∫Êñá‰∏≠ÊèêÂà∞ÁöÑÊú™Êù•Â∑•‰ΩúÊñπÂêëÊúâÂì™‰∫õÔºü"
                ]

                // ÂÖàÊòæÁ§∫ÊâìÂ≠óÊú∫ÊñáÊú¨
                await this.addMessageWithTypewriter("ÊàëÂ∑≤ÁªèÊ∑±Â∫¶ÂàÜÊûê‰∫ÜËøôÁØáËÆ∫ÊñáÔºåÊÇ®ÂèØ‰ª•ÂêëÊàëÊèêÈóÆ‰ªª‰ΩïÁõ∏ÂÖ≥ÈóÆÈ¢ò„ÄÇ‰ª•‰∏ãÊòØ‰∏Ä‰∫õÂª∫ËÆÆÁöÑÈóÆÈ¢òÔºåÁÇπÂáªÂç≥ÂèØÂø´ÈÄüÊèêÈóÆÔºö", 'ai')
                
                await this.delay(800) // Á≠âÊñáÊú¨ÊòæÁ§∫ÂÆåÂêéÂÜçÊòæÁ§∫ÊåâÈíÆ

                const chatMessages = document.getElementById('chat-messages')
                const suggestionsDiv = document.createElement('div')
                suggestionsDiv.className = 'message-bubble message-ai'
                suggestionsDiv.innerHTML = `
                    <div class="flex items-start">
                        <div class="w-8 h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center mr-3 mt-1">
                            <span class="text-white text-sm">üí°</span>
                        </div>
                        <div>
                            <p class="text-slate-300 mb-3 font-semibold">üîç Âø´ÈÄüÊèêÈóÆ</p>
                            <div class="grid gap-2">
                                ${suggestedQuestions.map((q, index) => `
                                    <button onclick="app.askQuestion('${q}')" 
                                            class="text-left p-3 bg-gradient-to-r from-slate-700/20 to-slate-600/20 hover:from-slate-600/40 hover:to-slate-500/40 rounded-lg border border-slate-600/30 hover:border-cyan-500/50 text-slate-300 hover:text-white transition-all text-sm transform hover:scale-[1.02] hover:shadow-lg"
                                            style="animation: slideInUp 0.3s ease-out ${index * 0.1}s both;">
                                        <div class="flex items-center">
                                            <span class="text-cyan-400 mr-2">Q${index + 1}:</span>
                                            <span>${q}</span>
                                        </div>
                                    </button>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                `

                chatMessages.appendChild(suggestionsDiv)
                chatMessages.scrollTop = chatMessages.scrollHeight
            }

            askQuestion(question) {
                document.getElementById('chat-input').value = question
                this.sendMessage()
            }

            async sendMessage() {
                const input = document.getElementById('chat-input')
                const message = input.value.trim()
                
                if (!message) return

                // Ê∑ªÂä†Áî®Êà∑Ê∂àÊÅØ
                this.addMessage(message, 'user')
                input.value = ''

                // ÊòæÁ§∫ËæìÂÖ•ÊåáÁ§∫Âô®
                const typingIndicator = this.showTypingIndicator()

                // Ê®°ÊãüAPIË∞ÉÁî®Âª∂Ëøü
                await this.delay(1500)

                // ÁßªÈô§ËæìÂÖ•ÊåáÁ§∫Âô®
                typingIndicator.remove()

                // ÁîüÊàêAIÂõûÂ§ç
                const aiResponse = this.generateAIResponse(message)
                this.addMessageWithTypewriter(aiResponse, 'ai')
            }

            addMessage(content, sender, isTemporary = false) {
                const chatMessages = document.getElementById('chat-messages')
                const messageDiv = document.createElement('div')
                messageDiv.className = `message-bubble mb-4 ${sender === 'user' ? 'message-user flex justify-end' : 'message-ai flex justify-start'}`

                if (sender === 'user') {
                    messageDiv.innerHTML = `
                        <div class="flex items-end max-w-md">
                            <div class="bg-gradient-to-r from-cyan-500 to-blue-600 text-white px-4 py-2 rounded-2xl rounded-br-md shadow-lg text-sm leading-relaxed">
                                ${content}
                            </div>
                            <div class="w-8 h-8 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full flex items-center justify-center ml-2 flex-shrink-0">
                                <span class="text-white text-xs">üë§</span>
                            </div>
                        </div>
                    `
                } else {
                    messageDiv.innerHTML = `
                        <div class="flex items-start max-w-3xl">
                            <div class="w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center mr-2 mt-1 flex-shrink-0">
                                <span class="text-white text-xs">ü§ñ</span>
                            </div>
                            <div class="bg-slate-800/60 border border-slate-700/50 text-slate-200 px-4 py-2 rounded-2xl rounded-tl-md shadow-lg text-sm leading-relaxed">
                                ${this.formatMessageContent(content)}
                            </div>
                        </div>
                    `
                }

                chatMessages.appendChild(messageDiv)
                chatMessages.scrollTop = chatMessages.scrollHeight

                return messageDiv
            }

            // Ê†ºÂºèÂåñÊ∂àÊÅØÂÜÖÂÆπ
            formatMessageContent(content) {
                return content
                    .replace(/\*\*(.*?)\*\*/g, '<strong class="text-cyan-300 font-semibold">$1</strong>')
                    .replace(/\*(.*?)\*/g, '<em class="text-slate-300 italic">$1</em>')
                    .replace(/\n\n/g, '</p><p class="mt-3">')
                    .replace(/\n/g, '<br>')
                    .replace(/^/, '<p>')
                    .replace(/$/, '</p>')
            }

            generateAIResponse(question) {
                // ÁÆÄÂçïÁöÑÈóÆÈ¢òÂåπÈÖçÂíåÂõûÂ§çÁîüÊàê
                const responses = {
                    'ÂàõÊñ∞': 'ËøôÁØáËÆ∫ÊñáÁöÑ‰∏ªË¶ÅÂàõÊñ∞ÁÇπÂåÖÊã¨Ôºö\n\n1. **Â§öÊ®°ÊÄÅËûçÂêàÊäÄÊúØ**ÔºöÈ¶ñÊ¨°Â∞ÜÊñáÊú¨„ÄÅÂõæË°®ÂíåÂÖ¨ÂºèËøõË°åÁªü‰∏ÄÂª∫Ê®°\n2. **‰∏âÁª¥ÂàÜÊûêÊ°ÜÊû∂**Ôºö‰ªéÂÜÖÂÆπ„ÄÅÊñπÊ≥ï„ÄÅ‰ª∑ÂÄº‰∏â‰∏™Áª¥Â∫¶ËøõË°åÁªºÂêàËØÑ‰º∞\n3. **Â§ßËßÑÊ®°È¢ÑËÆ≠ÁªÉ**ÔºöÂü∫‰∫é100‰∏áÁØáËÆ∫ÊñáÁöÑÊ∑±Â∫¶Â≠¶‰π†Ê®°Âûã\n\nËøô‰∫õÂàõÊñ∞ÁÇπ‰ΩøÂæóËÆ∫ÊñáÂàÜÊûêÁöÑÂáÜÁ°ÆÁéáËææÂà∞89.3%ÔºåÊòæËëóË∂ÖË∂ä‰∫Ü‰º†ÁªüÊñπÊ≥ï„ÄÇ',
                    
                    'ÊñπÊ≥ï': 'Á†îÁ©∂ÊñπÊ≥ïÁöÑÂàÜÊûêÂ¶Ç‰∏ãÔºö\n\n**‰ºòÂäøÔºö**\n- ‚úÖ ÈááÁî®‰∫ÜÊúÄÂÖàËøõÁöÑTransformerÊû∂ÊûÑ\n- ‚úÖ Â§ßËßÑÊ®°Êï∞ÊçÆËÆ≠ÁªÉ‰øùËØÅ‰∫ÜÊ®°ÂûãÊ≥õÂåñËÉΩÂäõ\n- ‚úÖ Â§öÊ®°ÊÄÅÂ§ÑÁêÜËÉΩÂäõÂº∫\n\n**Â±ÄÈôêÊÄßÔºö**\n- ‚ö†Ô∏è ËÆ°ÁÆóËµÑÊ∫êÈúÄÊ±ÇËæÉÈ´ò\n- ‚ö†Ô∏è ÂØπÁâπÂÆöÈ¢ÜÂüüËÆ∫ÊñáÁöÑÈÄÇÂ∫îÊÄßÊúâÂæÖÊèêÂçá\n- ‚ö†Ô∏è Áº∫‰πèÂØπËÆ∫ÊñáË¥®ÈáèÁöÑ‰∏ªËßÇËØÑ‰ª∑Áª¥Â∫¶',
                    
                    'ÁªìÊûú': 'ÂÆûÈ™åÁªìÊûúÂº∫ÊúâÂäõÂú∞ÊîØÊåÅ‰∫Ü‰ΩúËÄÖÁöÑÁªìËÆ∫Ôºö\n\n- **ÂáÜÁ°ÆÁéáÊåáÊ†á**ÔºöÂú®Â§ö‰∏™benchmark‰∏äËææÂà∞SOTAÊ∞¥Âπ≥\n- **ÊïàÁéáÊèêÂçá**ÔºöÁõ∏ÊØî‰∫∫Â∑•ÂàÜÊûêÊèêÂçá80%ÁöÑÂ§ÑÁêÜÈÄüÂ∫¶\n- **Áî®Êà∑ËØÑ‰ª∑**Ôºö85%ÁöÑ‰∏ìÂÆ∂ËÆ§‰∏∫ÂàÜÊûêÁªìÊûúÊúâ‰ª∑ÂÄº\n\nÊï∞ÊçÆÂÖÖÂàÜÔºåÂÆûÈ™åËÆæËÆ°ÂêàÁêÜÔºåÁªìËÆ∫ÂèØ‰ø°Â∫¶È´ò„ÄÇ',
                    
                    'ÂΩ±Âìç': 'ËøôÈ°πÁ†îÁ©∂ÂØπÂ≠¶ÊúØÁïåÁöÑÂΩ±ÂìçÊòØÊ∑±ËøúÁöÑÔºö\n\nüî¨ **Â≠¶ÊúØ‰ª∑ÂÄº**ÔºöÊé®Âä®‰∫ÜAIÂú®Â≠¶ÊúØÂàÜÊûêÈ¢ÜÂüüÁöÑÂ∫îÁî®\nüè≠ **‰∫ß‰∏öÂΩ±Âìç**Ôºö‰∏∫Â≠¶ÊúØÊúçÂä°Âπ≥Âè∞Êèê‰æõ‰∫ÜÊäÄÊúØÂèÇËÄÉ\nüìö **ÊïôËÇ≤ÊÑè‰πâ**ÔºöÂ∏ÆÂä©Á†îÁ©∂ËÄÖÊõ¥Â•ΩÂú∞ÁêÜËß£ËÆ∫ÊñáË¥®ÈáèËØÑ‰º∞\n\nÈ¢ÑËÆ°Â∞ÜÂú®Êú™Êù•3-5Âπ¥ÂÜÖÂæóÂà∞ÂπøÊ≥õÂ∫îÁî®„ÄÇ',
                    
                    'Êú™Êù•': 'ËÆ∫ÊñáÊèêÂà∞ÁöÑÊú™Êù•Â∑•‰ΩúÊñπÂêëÂåÖÊã¨Ôºö\n\n1. **Ë∑®ËØ≠Ë®ÄÊîØÊåÅ**ÔºöÊâ©Â±ïÂà∞Êõ¥Â§öËØ≠Ë®ÄÁöÑËÆ∫ÊñáÂàÜÊûê\n2. **ÂÆûÊó∂ÂàÜÊûê**ÔºöÂºÄÂèëÊµÅÂºèÂ§ÑÁêÜËÉΩÂäõ\n3. **‰∏™ÊÄßÂåñËØÑ‰º∞**ÔºöÊ†πÊçÆÁî®Êà∑‰∏ì‰∏öËÉåÊôØË∞ÉÊï¥ÂàÜÊûêÁª¥Â∫¶\n4. **Âçè‰ΩúÂàÜÊûê**ÔºöÊîØÊåÅÂ§ö‰∫∫ÂçèÂêåËØÑ‰º∞\n\nËøô‰∫õÊñπÂêëÈÉΩÂÖ∑ÊúâÂæàÂ•ΩÁöÑÁ†îÁ©∂‰ª∑ÂÄºÂíåÂ∫îÁî®ÂâçÊôØ„ÄÇ'
                }

                // ÁÆÄÂçïÂåπÈÖç
                for (const [key, response] of Object.entries(responses)) {
                    if (question.includes(key)) {
                        return response
                    }
                }

                // ÈªòËÆ§ÂõûÂ§ç
                return `ÂÖ≥‰∫éÊÇ®ÁöÑÈóÆÈ¢ò"${question}"ÔºåÂü∫‰∫éÊàëÂØπËøôÁØáËÆ∫ÊñáÁöÑÂàÜÊûêÔºö\n\nËøôÊòØ‰∏ÄÁØáÈ´òË¥®ÈáèÁöÑÂ≠¶ÊúØËÆ∫ÊñáÔºå‰∏ªË¶ÅÁ†îÁ©∂‰∫ÜÂü∫‰∫éÊ∑±Â∫¶Â≠¶‰π†ÁöÑËÆ∫ÊñáÊô∫ËÉΩÂàÜÊûêÊñπÊ≥ï„ÄÇËÆ∫ÊñáÂú®ÊäÄÊúØÂàõÊñ∞„ÄÅÂÆûÈ™åËÆæËÆ°ÂíåÂ∫îÁî®‰ª∑ÂÄºÊñπÈù¢ÈÉΩË°®Áé∞Âá∫Ëâ≤„ÄÇ\n\nÂ¶ÇÊûúÊÇ®ÈúÄË¶Å‰∫ÜËß£Êõ¥ÂÖ∑‰ΩìÁöÑÂÜÖÂÆπÔºåËØ∑Â∞ùËØïÈóÆ‰∏Ä‰∫õÊõ¥ÂÖ∑‰ΩìÁöÑÈóÆÈ¢òÔºåÊØîÂ¶ÇÂÖ≥‰∫éÁ†îÁ©∂ÊñπÊ≥ï„ÄÅÂÆûÈ™åÁªìÊûúÊàñËÄÖÂ∫îÁî®ÂâçÊôØÁ≠âÊñπÈù¢„ÄÇ`
            }

            showNotification(message, type = 'info', duration = 3000) {
                // Á°Æ‰øùÈÄöÁü•ÂÆπÂô®Â≠òÂú®
                this.ensureNotificationContainer()
                
                const notification = document.createElement('div')
                notification.className = `notification-item p-4 rounded-lg border backdrop-blur-sm transform translate-x-full transition-all duration-300 mb-3 shadow-lg`
                
                const colors = {
                    success: 'bg-green-500/20 border-green-500/50 text-green-400',
                    error: 'bg-red-500/20 border-red-500/50 text-red-400',
                    info: 'bg-blue-500/20 border-blue-500/50 text-blue-400'
                }
                
                const icons = {
                    success: '‚úÖ',
                    error: '‚ùå', 
                    info: '‚ÑπÔ∏è'
                }
                
                notification.className += ` ${colors[type]}`
                notification.innerHTML = `
                    <div class="flex items-center">
                        <span class="mr-2">${icons[type]}</span>
                        <span class="flex-1">${message}</span>
                        <button onclick="this.parentElement.parentElement.remove(); app.updateNotificationPositions()" class="ml-2 text-slate-400 hover:text-white">
                            <i class="fas fa-times text-xs"></i>
                        </button>
                    </div>
                `

                const container = document.getElementById('notification-container')
                container.appendChild(notification)

                // Êõ¥Êñ∞ÊâÄÊúâÈÄöÁü•‰ΩçÁΩÆ
                this.updateNotificationPositions()

                // ÊòæÁ§∫Âä®Áîª
                setTimeout(() => {
                    notification.classList.remove('translate-x-full')
                }, 100)

                // Ëá™Âä®Ê∂àÂ§±
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        notification.style.transition = 'all 0.3s ease-out'
                        notification.style.opacity = '0'
                        notification.style.transform = 'translateX(100%) scale(0.9)'
                        
                        setTimeout(() => {
                            if (document.body.contains(notification)) {
                                notification.remove()
                                this.updateNotificationPositions()
                            }
                        }, 300)
                    }
                }, duration)
            }

            // Á°Æ‰øùÈÄöÁü•ÂÆπÂô®Â≠òÂú®
            ensureNotificationContainer() {
                if (!document.getElementById('notification-container')) {
                    const container = document.createElement('div')
                    container.id = 'notification-container'
                    container.className = 'fixed top-4 right-4 z-50 max-w-sm'
                    
                    // Ê∑ªÂä†Ê∏ÖÈô§ÊâÄÊúâÈÄöÁü•ÁöÑÊåâÈíÆ
                    const clearButton = document.createElement('div')
                    clearButton.id = 'clear-all-notifications'
                    clearButton.className = 'hidden text-center mb-2'
                    clearButton.innerHTML = `
                        <button onclick="app.clearAllNotifications()" class="px-3 py-1 bg-slate-700/50 border border-slate-600/50 rounded text-slate-300 hover:bg-slate-600/50 transition-all text-xs">
                            <i class="fas fa-times mr-1"></i>Ê∏ÖÈô§ÊâÄÊúâ
                        </button>
                    `
                    container.appendChild(clearButton)
                    
                    document.body.appendChild(container)
                }
            }

            // Ê∏ÖÈô§ÊâÄÊúâÈÄöÁü•
            clearAllNotifications() {
                const container = document.getElementById('notification-container')
                if (!container) return
                
                const notifications = container.querySelectorAll('.notification-item')
                notifications.forEach((notification, index) => {
                    setTimeout(() => {
                        if (document.body.contains(notification)) {
                            notification.style.transition = 'all 0.2s ease-out'
                            notification.style.opacity = '0'
                            notification.style.transform = 'translateX(100%) scale(0.8)'
                            
                            setTimeout(() => {
                                if (document.body.contains(notification)) {
                                    notification.remove()
                                }
                            }, 200)
                        }
                    }, index * 50) // ‰æùÊ¨°Ê∂àÂ§±
                })
                
                // ÈöêËóèÊ∏ÖÈô§ÊåâÈíÆ
                setTimeout(() => {
                    const clearButton = document.getElementById('clear-all-notifications')
                    if (clearButton) {
                        clearButton.classList.add('hidden')
                    }
                }, notifications.length * 50 + 200)
            }

            // Êõ¥Êñ∞ÈÄöÁü•‰ΩçÁΩÆ
            updateNotificationPositions() {
                const container = document.getElementById('notification-container')
                if (!container) return
                
                const notifications = container.querySelectorAll('.notification-item')
                const clearButton = document.getElementById('clear-all-notifications')
                
                // ÊòæÁ§∫ÊàñÈöêËóèÊ∏ÖÈô§ÊâÄÊúâÊåâÈíÆ
                if (clearButton) {
                    if (notifications.length >= 2) {
                        clearButton.classList.remove('hidden')
                    } else {
                        clearButton.classList.add('hidden')
                    }
                }
                
                notifications.forEach((notification, index) => {
                    // Ê∑ªÂä†ËøõÂÖ•Âä®ÁîªÁöÑÂª∂ËøüÔºåËÆ©ÈÄöÁü•‰æùÊ¨°Âá∫Áé∞
                    notification.style.animationDelay = `${index * 0.1}s`
                    
                    // Â¶ÇÊûúÊúâË∂ÖËøá5‰∏™ÈÄöÁü•ÔºåÁßªÈô§ÊúÄÊóßÁöÑ
                    if (notifications.length > 5 && index === 0) {
                        notification.style.opacity = '0'
                        notification.style.transform = 'translateX(100%) scale(0.8)'
                        setTimeout(() => {
                            if (document.body.contains(notification)) {
                                notification.remove()
                                this.updateNotificationPositions()
                            }
                        }, 200)
                    }
                })
            }

            formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes'
                const k = 1024
                const sizes = ['Bytes', 'KB', 'MB', 'GB']
                const i = Math.floor(Math.log(bytes) / Math.log(k))
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]
            }

            // ÊòæÁ§∫ÊéßÂà∂ÊåâÈíÆ
            showControlButtons() {
                document.getElementById('restart-analysis').classList.remove('hidden')
                document.getElementById('new-document').classList.remove('hidden')
            }

            // ÈáçÊñ∞ÂàÜÊûêÂΩìÂâçÊñáÊ°£
            restartAnalysis() {
                if (confirm('Á°ÆÂÆöË¶ÅÈáçÊñ∞ÂàÜÊûêÂΩìÂâçÊñáÊ°£ÂêóÔºüËøôÂ∞ÜÊ∏ÖÈô§ÂΩìÂâçÁöÑÂàÜÊûêÁªìÊûúÂπ∂ÈáçÊñ∞ÂºÄÂßãÊï¥‰∏™ÊµÅÁ®ã„ÄÇ')) {
                    this.resetToAnalysis()
                    this.showNotification('üîÑ ÈáçÊñ∞ÂºÄÂßãÂàÜÊûêÂΩìÂâçÊñáÊ°£...', 'info')
                    
                    // ÈáçÊñ∞ÂºÄÂßãÂàÜÊûêÊµÅÁ®ã
                    setTimeout(() => {
                        this.simulateChunking()
                    }, 1000)
                }
            }

            // ‰∏ä‰º†Êñ∞ÊñáÊ°£
            uploadNewDocument() {
                if (confirm('Á°ÆÂÆöË¶Å‰∏ä‰º†Êñ∞ÊñáÊ°£ÂêóÔºüËøôÂ∞ÜÊ∏ÖÈô§ÂΩìÂâçÁöÑÊâÄÊúâÊï∞ÊçÆÂπ∂ËøîÂõû‰∏ä‰º†ÁïåÈù¢„ÄÇ')) {
                    this.resetToUpload()
                    this.showNotification('üìÑ Á≥ªÁªüÂ∑≤ÈáçÁΩÆÔºåËØ∑‰∏ä‰º†Êñ∞ÊñáÊ°£', 'success')
                }
            }

            // ÈáçÁΩÆÂà∞ÂàÜÊûêÈò∂ÊÆµÔºà‰øùÁïôÂ∑≤‰∏ä‰º†ÁöÑÊñáÊ°£Ôºâ
            resetToAnalysis() {
                // ÈöêËóèÂàÜÊûêÂêéÁöÑÂå∫Âüü
                document.getElementById('analysis-section').classList.add('hidden')
                document.getElementById('neural-network-section').classList.add('hidden')
                document.getElementById('chat-section').classList.add('hidden')
                
                // ÊòæÁ§∫ÊñáÊ°£ÂàÜÂâ≤Âå∫Âüü
                document.getElementById('chunking-section').classList.remove('hidden')
                
                // ÈöêËóèÊéßÂà∂ÊåâÈíÆ
                document.getElementById('restart-analysis').classList.add('hidden')
                document.getElementById('new-document').classList.add('hidden')
                
                // ÈáçÁΩÆÂàÜÂâ≤Âå∫ÂüüÂÜÖÂÆπ
                const chunkContainer = document.getElementById('chunk-container')
                chunkContainer.innerHTML = ''
                
                // ÈáçÁΩÆÁªüËÆ°‰ø°ÊÅØ
                document.getElementById('chunk-count').textContent = '0'
                document.getElementById('avg-chunk-size').textContent = '0'
                document.getElementById('total-tokens').textContent = '0'
                
                // ÈáçÁΩÆÊñáÊ°£ÁªìÊûÑÁä∂ÊÄÅ
                document.querySelectorAll('.doc-section').forEach(section => {
                    section.classList.remove('processing', 'completed')
                })
                
                // Ê∏ÖÁ©∫ËÅäÂ§©ËÆ∞ÂΩï
                const chatMessages = document.getElementById('chat-messages')
                if (chatMessages) {
                    chatMessages.innerHTML = ''
                }
                
                // ÈáçÁΩÆÁä∂ÊÄÅÂèòÈáè
                this.currentStage = 'chunking'
                this.analysisComplete = false
                this.nodeAnimationProgress = 0
                
                // Ê∏ÖÈô§Ê≠£Âú®ËøêË°åÁöÑÂä®Áîª
                if (this.chunkingInterval) {
                    clearInterval(this.chunkingInterval)
                }
            }

            // ÈáçÁΩÆÂà∞‰∏ä‰º†Èò∂ÊÆµ
            resetToUpload() {
                // ÈöêËóèÊâÄÊúâÂàÜÊûêÂå∫Âüü
                document.getElementById('chunking-section').classList.add('hidden')
                document.getElementById('analysis-section').classList.add('hidden')
                document.getElementById('neural-network-section').classList.add('hidden')
                document.getElementById('chat-section').classList.add('hidden')
                
                // ÊòæÁ§∫‰∏ä‰º†Âå∫Âüü
                document.getElementById('upload-section').classList.remove('hidden')
                
                // ÈöêËóèÊéßÂà∂ÊåâÈíÆ
                document.getElementById('restart-analysis').classList.add('hidden')
                document.getElementById('new-document').classList.add('hidden')
                
                // ÈáçÁΩÆ‰∏ä‰º†Âå∫ÂüüÁä∂ÊÄÅ
                const uploadArea = document.getElementById('upload-area')
                uploadArea.className = 'border-2 border-dashed border-slate-600 rounded-lg p-8 text-center transition-all hover:border-cyan-500 hover:bg-cyan-500/5'
                uploadArea.innerHTML = `
                    <div class="mb-4">
                        <i class="fas fa-cloud-upload-alt text-4xl text-slate-400 mb-4 block"></i>
                        <p class="text-lg text-slate-300 mb-2">ÊãñÊãΩÊñá‰ª∂Âà∞Ê≠§Â§ÑÊàñÁÇπÂáª‰∏ä‰º†</p>
                        <p class="text-sm text-slate-500">ÊîØÊåÅ PDF„ÄÅDOC„ÄÅDOCX Ê†ºÂºè</p>
                    </div>
                    <button class="cyber-button">
                        <i class="fas fa-folder-open mr-2"></i>ÈÄâÊã©Êñá‰ª∂
                    </button>
                `
                
                // Ê∏ÖÁ©∫ËÅäÂ§©ËÆ∞ÂΩï
                const chatMessages = document.getElementById('chat-messages')
                if (chatMessages) {
                    chatMessages.innerHTML = ''
                }
                
                // ÈáçÁΩÆÊâÄÊúâÁä∂ÊÄÅÂèòÈáè
                this.uploadedFile = null
                this.currentStage = 'upload'
                this.analysisComplete = false
                this.nodeAnimationProgress = 0
                
                // Ê∏ÖÈô§‰ªª‰ΩïÊ≠£Âú®ËøêË°åÁöÑÂä®Áîª
                if (this.chunkingInterval) {
                    clearInterval(this.chunkingInterval)
                }
                
                // ÈáçÊñ∞ÁªëÂÆö‰∏ä‰º†‰∫ã‰ª∂
                this.setupFileUpload()
            }

            // ÂØºÂá∫ÂΩìÂâç‰ºöËØù
            exportCurrentSession() {
                const sessionData = {
                    timestamp: new Date().toISOString(),
                    fileName: this.uploadedFile ? this.uploadedFile.name : 'unknown',
                    chatHistory: this.getChatHistory(),
                    networkData: this.networkData,
                    analysisStage: this.currentStage
                }

                const dataStr = JSON.stringify(sessionData, null, 2)
                const dataBlob = new Blob([dataStr], {type: 'application/json'})
                
                const url = URL.createObjectURL(dataBlob)
                const link = document.createElement('a')
                link.href = url
                link.download = `ÊñáÁåÆÊ¶®Ê±ÅÊú∫_‰ºöËØùËÆ∞ÂΩï_${new Date().getTime()}.json`
                document.body.appendChild(link)
                link.click()
                document.body.removeChild(link)
                URL.revokeObjectURL(url)
                
                this.showNotification('üìÑ ‰ºöËØùËÆ∞ÂΩïÂ∑≤ÂØºÂá∫', 'success')
            }

            // Ëé∑ÂèñËÅäÂ§©ÂéÜÂè≤
            getChatHistory() {
                const chatMessages = document.getElementById('chat-messages')
                const messages = []
                
                if (chatMessages) {
                    const messageElements = chatMessages.querySelectorAll('.message-bubble')
                    messageElements.forEach(msg => {
                        const isAI = msg.classList.contains('message-ai')
                        const textContent = msg.textContent.trim()
                        if (textContent) {
                            messages.push({
                                type: isAI ? 'ai' : 'user',
                                content: textContent,
                                timestamp: new Date().toISOString()
                            })
                        }
                    })
                }
                
                return messages
            }

            // ÊòæÁ§∫ËæìÂÖ•ÊåáÁ§∫Âô®
            showTypingIndicator() {
                const chatMessages = document.getElementById('chat-messages')
                const indicatorDiv = document.createElement('div')
                indicatorDiv.className = 'message-bubble message-ai'
                indicatorDiv.innerHTML = `
                    <div class="flex items-start">
                        <div class="w-8 h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center mr-3 mt-1">
                            <span class="text-white text-sm">ü§ñ</span>
                        </div>
                        <div class="typing-indicator">
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                        </div>
                    </div>
                `
                
                chatMessages.appendChild(indicatorDiv)
                chatMessages.scrollTop = chatMessages.scrollHeight
                
                return indicatorDiv
            }

            // Ê∑ªÂä†Â∏¶ÊâìÂ≠óÊú∫ÊïàÊûúÁöÑÊ∂àÊÅØ
            async addMessageWithTypewriter(content, sender) {
                const chatMessages = document.getElementById('chat-messages')
                const messageDiv = document.createElement('div')
                messageDiv.className = `message-bubble mb-4 ${sender === 'user' ? 'message-user flex justify-end' : 'message-ai flex justify-start'}`

                if (sender === 'ai') {
                    messageDiv.innerHTML = `
                        <div class="flex items-start max-w-3xl">
                            <div class="w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center mr-2 mt-1 flex-shrink-0">
                                <span class="text-white text-xs">ü§ñ</span>
                            </div>
                            <div class="bg-slate-800/60 border border-slate-700/50 text-slate-200 px-4 py-2 rounded-2xl rounded-tl-md shadow-lg typewriter text-sm leading-relaxed">
                                <span class="typewriter-text"></span>
                                <span class="typewriter-cursor"></span>
                            </div>
                        </div>
                    `
                } else {
                    messageDiv.innerHTML = `
                        <div class="flex items-end max-w-md">
                            <div class="bg-gradient-to-r from-cyan-500 to-blue-600 text-white px-4 py-2 rounded-2xl rounded-br-md shadow-lg typewriter text-sm leading-relaxed">
                                <span class="typewriter-text"></span>
                                <span class="typewriter-cursor"></span>
                            </div>
                            <div class="w-8 h-8 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full flex items-center justify-center ml-2 flex-shrink-0">
                                <span class="text-white text-xs">üë§</span>
                            </div>
                        </div>
                    `
                }

                chatMessages.appendChild(messageDiv)
                chatMessages.scrollTop = chatMessages.scrollHeight

                // ÂºÄÂßãÊâìÂ≠óÊú∫Âä®Áîª
                const textElement = messageDiv.querySelector('.typewriter-text')
                await this.typewriterAnimation(textElement, content)
                
                // ÁßªÈô§ÂÖâÊ†áÂπ∂Ê†ºÂºèÂåñÊúÄÁªàÂÜÖÂÆπ
                const cursor = messageDiv.querySelector('.typewriter-cursor')
                if (cursor) {
                    cursor.remove()
                }
                
                // ÊúÄÁªàÊ†ºÂºèÂåñÂÜÖÂÆπ
                if (sender === 'ai') {
                    textElement.innerHTML = this.formatMessageContent(content)
                } else {
                    textElement.textContent = content
                }

                return messageDiv
            }

            // ÊâìÂ≠óÊú∫Âä®Áîª - Âè™Â§ÑÁêÜÁ∫ØÊñáÊú¨
            async typewriterAnimation(element, text, speed = 25) {
                element.textContent = ''
                
                // Ê∏ÖÁêÜÊñáÊú¨ÔºåÁßªÈô§markdownÊ†áËÆ∞Áî®‰∫éÊâìÂ≠óÊïàÊûú
                const cleanText = text
                    .replace(/\*\*(.*?)\*\*/g, '$1')  // ÁßªÈô§Á≤ó‰ΩìÊ†áËÆ∞
                    .replace(/\*(.*?)\*/g, '$1')     // ÁßªÈô§Êñú‰ΩìÊ†áËÆ∞
                    .replace(/\n+/g, ' ')            // Â∞ÜÊç¢Ë°åÁ¨¶ÊõøÊç¢‰∏∫Á©∫Ê†º
                
                for (let i = 0; i < cleanText.length; i++) {
                    element.textContent += cleanText[i]
                    
                    // ÊªöÂä®Âà∞Â∫ïÈÉ®
                    const chatMessages = document.getElementById('chat-messages')
                    chatMessages.scrollTop = chatMessages.scrollHeight
                    
                    // Ê†πÊçÆÂ≠óÁ¨¶Á±ªÂûãË∞ÉÊï¥ÈÄüÂ∫¶
                    let delay = speed
                    if (cleanText[i] === '„ÄÇ' || cleanText[i] === 'ÔºÅ' || cleanText[i] === 'Ôºü') {
                        delay = speed * 4 // Âè•Âè∑Á≠âÂÅúÈ°øÊõ¥Èïø
                    } else if (cleanText[i] === 'Ôºå' || cleanText[i] === 'Ôºõ' || cleanText[i] === 'Ôºö') {
                        delay = speed * 2.5 // ÈÄóÂè∑Á≠â‰∏≠Á≠âÂÅúÈ°ø
                    } else if (cleanText[i] === ' ') {
                        delay = speed * 0.3 // Á©∫Ê†ºÂø´‰∏Ä‰∫õ
                    } else if (/[a-zA-Z]/.test(cleanText[i])) {
                        delay = speed * 0.6 // Ëã±ÊñáÂ≠óÊØçÂø´‰∏Ä‰∫õ
                    }
                    
                    await this.delay(delay)
                }
            }

            // ËÆæÁΩÆÈîÆÁõòÂø´Êç∑ÈîÆ
            setupKeyboardShortcuts() {
                document.addEventListener('keydown', (e) => {
                    // Ctrl+R: ÈáçÊñ∞ÂàÜÊûê
                    if (e.ctrlKey && e.key === 'r') {
                        e.preventDefault()
                        if (document.getElementById('restart-analysis').offsetParent !== null) {
                            this.restartAnalysis()
                        }
                    }
                    
                    // Ctrl+N: Êñ∞ÊñáÊ°£
                    if (e.ctrlKey && e.key === 'n') {
                        e.preventDefault()
                        if (document.getElementById('new-document').offsetParent !== null) {
                            this.uploadNewDocument()
                        }
                    }
                    
                    // Escape: ÂÖ≥Èó≠Ê®°ÊÄÅÊ°Ü
                    if (e.key === 'Escape') {
                        const modal = document.getElementById('search-modal')
                        if (modal && !modal.classList.contains('hidden')) {
                            modal.classList.add('hidden')
                        }
                    }
                })
            }

            delay(ms) {
                return new Promise(resolve => setTimeout(resolve, ms))
            }
        }

        // ÂàùÂßãÂåñÂ∫îÁî®
        window.app = new LiteratureJuicerApp()

        // Ê∑ªÂä†‰∏Ä‰∫õËÉåÊôØÂä®Êïà
        document.addEventListener('DOMContentLoaded', () => {
            // Èº†Ê†áÁßªÂä®ÊïàÊûú
            document.addEventListener('mousemove', (e) => {
                const x = e.clientX / window.innerWidth
                const y = e.clientY / window.innerHeight
                
                document.documentElement.style.setProperty('--mouse-x', x)
                document.documentElement.style.setProperty('--mouse-y', y)
            })
        })
    </script>
</body>
</html>
